<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Tasks Reference - Driftless Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Streamlined system configuration, inventory, and monitoring agent with Ansible-like configuration operations">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "ayu";
            const default_dark_theme = "ayu";
            window.path_to_searchindex_js = "../searchindex-d0d556bd.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-00f615d9.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">Driftless Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/driftless-hq/driftless" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/driftless-hq/driftless/edit/main/book-src/../docs/tasks-reference.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="driftless-configuration-reference"><a class="header" href="#driftless-configuration-reference">Driftless Configuration Reference</a></h1>
<p>Comprehensive reference for all available configuration components in Driftless.</p>
<p>This documentation is auto-generated from the Rust source code.</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>Driftless provides three main configuration components that work together to manage systems:</p>
<ul>
<li><strong>Configuration Operations</strong> (<code>apply</code>): Define and enforce desired system state</li>
<li><strong>Facts Collectors</strong> (<code>facts</code>): Gather system metrics and inventory information</li>
<li><strong>Log Sources/Outputs</strong> (<code>logs</code>): Handle log collection and forwarding</li>
</ul>
<h2 id="configuration-operations-apply"><a class="header" href="#configuration-operations-apply">Configuration Operations (<code>apply</code>)</a></h2>
<p>Configuration operations define desired system state and are executed idempotently. Each operation corresponds to a specific aspect of system configuration management.</p>
<h3 id="task-result-registration-and-conditions"><a class="header" href="#task-result-registration-and-conditions">Task Result Registration and Conditions</a></h3>
<p>All configuration operations support special fields for conditional execution and capturing results:</p>
<ul>
<li><strong><code>when</code></strong>: An optional expression (usually containing variables) that determines if the task should be executed. If the condition evaluates to <code>false</code>, the task is skipped.</li>
<li><strong><code>register</code></strong>: An optional variable name to capture the result of the task execution. The captured data varies by task type and can be used in subsequent tasks using template expansion (e.g., <code>{{ my_var.stdout }}</code>). This field only appears in the documentation for tasks that provide output results.</li>
</ul>
<h3 id="command-execution"><a class="header" href="#command-execution">Command Execution</a></h3>
<h4 id="command"><a class="header" href="#command">command</a></h4>
<p><strong>Description</strong>: Command execution task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>command</code> (String):
Command to execute</p>
</li>
<li>
<p><code>env</code> (HashMap&lt;String, String&gt;):
Environment variables</p>
</li>
<li>
<p><code>exit_code</code> (i32):
Expected exit code (default: 0)</p>
</li>
<li>
<p><code>idempotent</code> (bool):
Whether command should be idempotent (only run if not already applied)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>cwd</code> (Option<string>):
Working directory for command execution</string></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>group</code> (Option<string>):
Whether to run command as a specific group</string></p>
</li>
<li>
<p><code>register</code> (Option<string>):
Optional variable name to register the task result in</string></p>
</li>
<li>
<p><code>user</code> (Option<string>):
Whether to run command as a specific user</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Registered Outputs</strong>:</p>
<ul>
<li><code>changed</code> (bool): Whether the command was actually run</li>
<li><code>rc</code> (i32): The exit code of the command</li>
<li><code>stderr</code> (String): The standard error of the command</li>
<li><code>stdout</code> (String): The standard output of the command</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Run a simple command</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: command
  description: "Update package list"
  command: apt-get update
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "command",
  "description": "Update package list",
  "command": "apt-get update"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "command"
description = "Update package list"
command = "apt-get update"
</code></pre>
<p><strong>Run command with specific working directory</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: command
  description: "Build application in project directory"
  command: make build
  cwd: /opt/myapp
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "command",
  "description": "Build application in project directory",
  "command": "make build",
  "cwd": "/opt/myapp"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "command"
description = "Build application in project directory"
command = "make build"
cwd = "/opt/myapp"
</code></pre>
<p><strong>Run command as specific user</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: command
  description: "Restart nginx service"
  command: systemctl restart nginx
  user: root
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "command",
  "description": "Restart nginx service",
  "command": "systemctl restart nginx",
  "user": "root"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "command"
description = "Restart nginx service"
command = "systemctl restart nginx"
user = "root"
</code></pre>
<p><strong>Register command output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: command
  description: "Check system uptime"
  command: uptime
  register: uptime_result
- type: debug
  msg: "The system uptime is: {{ uptime_result.stdout }}"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "command",
    "description": "Check system uptime",
    "command": "uptime",
    "register": "uptime_result"
  },
  {
    "type": "debug",
    "msg": "The system uptime is: {{ uptime_result.stdout }}"
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "command"
description = "Check system uptime"
command = "uptime"
register = "uptime_result"
[[tasks]]
type = "debug"
msg = "The system uptime is: {{ uptime_result.stdout }}"
</code></pre>
<p><strong>Idempotent command</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: command
  description: "Initialize database (idempotent)"
  command: /opt/myapp/init-db.sh
  idempotent: true
  exit_code: 0
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "command",
  "description": "Initialize database (idempotent)",
  "command": "/opt/myapp/init-db.sh",
  "idempotent": true,
  "exit_code": 0
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "command"
description = "Initialize database (idempotent)"
command = "/opt/myapp/init-db.sh"
idempotent = true
exit_code = 0
</code></pre>
<h4 id="raw"><a class="header" href="#raw">raw</a></h4>
<p><strong>Description</strong>: Execute commands without shell processing task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>args</code> (Vec<string>):
Command arguments (argv[1..])</string></p>
</li>
<li>
<p><code>creates</code> (bool):
Whether the command creates resources</p>
</li>
<li>
<p><code>environment</code> (HashMap&lt;String, String&gt;):
Environment variables</p>
</li>
<li>
<p><code>executable</code> (String):
Command to execute (argv[0])</p>
</li>
<li>
<p><code>exit_codes</code> (Vec<i32>):
Expected exit codes (defaults to [0])</i32></p>
</li>
<li>
<p><code>force</code> (bool):
Force command execution</p>
</li>
<li>
<p><code>ignore_errors</code> (bool):
Whether to ignore errors</p>
</li>
<li>
<p><code>removes</code> (bool):
Whether the command removes resources</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>chdir</code> (Option<string>):
Working directory for command execution</string></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>timeout</code> (Option<u32>):
Execution timeout in seconds</u32></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Execute a simple command</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: raw
  description: "List directory contents"
  executable: ls
  args: ["-la", "/tmp"]
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "raw",
  "description": "List directory contents",
  "executable": "ls",
  "args": ["-la", "/tmp"]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "raw"
description = "List directory contents"
executable = "ls"
args = ["-la", "/tmp"]
</code></pre>
<p><strong>Execute command with environment variables</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: raw
  description: "Run command with environment"
  executable: /usr/local/bin/myapp
  args: ["--config", "/etc/myapp/config.json"]
  environment:
    DATABASE_URL: "postgresql://localhost/mydb"
    LOG_LEVEL: "debug"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "raw",
  "description": "Run command with environment",
  "executable": "/usr/local/bin/myapp",
  "args": ["--config", "/etc/myapp/config.json"],
  "environment": {
    "DATABASE_URL": "postgresql://localhost/mydb",
    "LOG_LEVEL": "debug"
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "raw"
description = "Run command with environment"
executable = "/usr/local/bin/myapp"
args = ["--config", "/etc/myapp/config.json"]
environment = { DATABASE_URL = "postgresql://localhost/mydb", LOG_LEVEL = "debug" }
</code></pre>
<p><strong>Execute command with timeout</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: raw
  description: "Run command with timeout"
  executable: sleep
  args: ["30"]
  timeout: 10
  ignore_errors: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "raw",
  "description": "Run command with timeout",
  "executable": "sleep",
  "args": ["30"],
  "timeout": 10,
  "ignore_errors": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "raw"
description = "Run command with timeout"
executable = "sleep"
args = ["30"]
timeout = 10
ignore_errors = true
</code></pre>
<p><strong>Execute command in specific directory</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: raw
  description: "Run command in project directory"
  executable: make
  args: ["build"]
  chdir: /opt/myproject
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "raw",
  "description": "Run command in project directory",
  "executable": "make",
  "args": ["build"],
  "chdir": "/opt/myproject"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "raw"
description = "Run command in project directory"
executable = "make"
args = ["build"]
chdir = "/opt/myproject"
</code></pre>
<h4 id="script"><a class="header" href="#script">script</a></h4>
<p><strong>Description</strong>: Execute local scripts task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>creates</code> (bool):
Whether the script creates resources</p>
</li>
<li>
<p><code>environment</code> (HashMap&lt;String, String&gt;):
Environment variables</p>
</li>
<li>
<p><code>force</code> (bool):
Force script execution</p>
</li>
<li>
<p><code>params</code> (Vec<string>):
Script parameters/arguments</string></p>
</li>
<li>
<p><code>path</code> (String):
Path to the script file</p>
</li>
<li>
<p><code>removes</code> (bool):
Whether the script removes resources</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>chdir</code> (Option<string>):
Working directory for script execution</string></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>timeout</code> (Option<u32>):
Execution timeout in seconds</u32></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Execute a script</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: script
  description: "Run setup script"
  path: /usr/local/bin/setup.sh
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "script",
  "description": "Run setup script",
  "path": "/usr/local/bin/setup.sh"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "script"
description = "Run setup script"
path = "/usr/local/bin/setup.sh"
</code></pre>
<p><strong>Execute script with parameters</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: script
  description: "Run deployment script with environment"
  path: /opt/deploy/deploy.sh
  params: ["production", "--verbose"]
  chdir: /opt/deploy
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "script",
  "description": "Run deployment script with environment",
  "path": "/opt/deploy/deploy.sh",
  "params": ["production", "--verbose"],
  "chdir": "/opt/deploy"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "script"
description = "Run deployment script with environment"
path = "/opt/deploy/deploy.sh"
params = ["production", "--verbose"]
chdir = "/opt/deploy"
</code></pre>
<p><strong>Execute script with environment variables</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: script
  description: "Run script with environment"
  path: /usr/local/bin/configure.sh
  environment:
    DATABASE_URL: "postgresql://localhost/mydb"
    API_KEY: "secret-key"
  timeout: 300
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "script",
  "description": "Run script with environment",
  "path": "/usr/local/bin/configure.sh",
  "environment": {
    "DATABASE_URL": "postgresql://localhost/mydb",
    "API_KEY": "secret-key"
  },
  "timeout": 300
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "script"
description = "Run script with environment"
path = "/usr/local/bin/configure.sh"
environment = { DATABASE_URL = "postgresql://localhost/mydb", API_KEY = "secret-key" }
timeout = 300
</code></pre>
<p><strong>Execute script with creates/removes checks</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: script
  description: "Run initialization script"
  path: /usr/local/bin/init.sh
  creates: true
  timeout: 600
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "script",
  "description": "Run initialization script",
  "path": "/usr/local/bin/init.sh",
  "creates": true,
  "timeout": 600
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "script"
description = "Run initialization script"
path = "/usr/local/bin/init.sh"
creates = true
timeout = 600
</code></pre>
<h3 id="file-operations"><a class="header" href="#file-operations">File Operations</a></h3>
<h4 id="archive"><a class="header" href="#archive">archive</a></h4>
<p><strong>Description</strong>: Archive files task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>compression</code> (u32):
Compression level (1-9)</p>
</li>
<li>
<p><code>extra_opts</code> (Vec<string>):
Extra options for archiving</string></p>
</li>
<li>
<p><code>format</code> (ArchiveFormat):
Archive format</p>
</li>
<li>
<p><code>path</code> (String):
Archive file path</p>
</li>
<li>
<p><code>sources</code> (Vec<string>):
Files/directories to archive</string></p>
</li>
<li>
<p><code>state</code> (ArchiveState):
Archive state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>dest</code> (Option<string>):
Destination directory (for extraction)</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Create a tar archive</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: archive
  description: "Create backup archive"
  path: /tmp/backup.tar
  state: present
  format: tar
  sources:
    - /home/user/documents
    - /home/user/pictures
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "archive",
  "description": "Create backup archive",
  "path": "/tmp/backup.tar",
  "state": "present",
  "format": "tar",
  "sources": ["/home/user/documents", "/home/user/pictures"]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "archive"
description = "Create backup archive"
path = "/tmp/backup.tar"
state = "present"
format = "tar"
sources = ["/home/user/documents", "/home/user/pictures"]
</code></pre>
<p><strong>Create a compressed tar archive</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: archive
  description: "Create compressed backup"
  path: /tmp/backup.tar.gz
  state: present
  format: tgz
  sources:
    - /var/log
  compression: 9
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "archive",
  "description": "Create compressed backup",
  "path": "/tmp/backup.tar.gz",
  "state": "present",
  "format": "tgz",
  "sources": ["/var/log"],
  "compression": 9
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "archive"
description = "Create compressed backup"
path = "/tmp/backup.tar.gz"
state = "present"
format = "tgz"
sources = ["/var/log"]
compression = 9
</code></pre>
<p><strong>Create a zip archive</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: archive
  description: "Create zip archive"
  path: /tmp/data.zip
  state: present
  format: zip
  sources:
    - /home/user/data
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "archive",
  "description": "Create zip archive",
  "path": "/tmp/data.zip",
  "state": "present",
  "format": "zip",
  "sources": ["/home/user/data"]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "archive"
description = "Create zip archive"
path = "/tmp/data.zip"
state = "present"
format = "zip"
sources = ["/home/user/data"]
</code></pre>
<p><strong>Remove an archive</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: archive
  description: "Remove old backup"
  path: /tmp/old-backup.tar.gz
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "archive",
  "description": "Remove old backup",
  "path": "/tmp/old-backup.tar.gz",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "archive"
description = "Remove old backup"
path = "/tmp/old-backup.tar.gz"
state = "absent"
</code></pre>
<h4 id="blockinfile"><a class="header" href="#blockinfile">blockinfile</a></h4>
<p><strong>Description</strong>: Insert/update multi-line blocks task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>backup</code> (bool):
Backup file before modification</p>
</li>
<li>
<p><code>block</code> (String):
Block content (multi-line)</p>
</li>
<li>
<p><code>create</code> (bool):
Create file if it doesn’t exist</p>
</li>
<li>
<p><code>marker</code> (String):
Marker for block boundaries</p>
</li>
<li>
<p><code>path</code> (String):
Path to the file</p>
</li>
<li>
<p><code>state</code> (BlockInFileState):
Block state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>insertafter</code> (Option<string>):
Insert after this line (regex)</string></p>
</li>
<li>
<p><code>insertbefore</code> (Option<string>):
Insert before this line (regex)</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Insert a configuration block</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: blockinfile
  description: "Add custom configuration block"
  path: /etc/myapp/config.conf
  state: present
  block: |
    # Custom configuration
    custom_option = true
    custom_value = 42
  marker: "# {mark} Custom Config"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "blockinfile",
  "description": "Add custom configuration block",
  "path": "/etc/myapp/config.conf",
  "state": "present",
  "block": "# Custom configuration\ncustom_option = true\ncustom_value = 42\n",
  "marker": "# {mark} Custom Config"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "blockinfile"
description = "Add custom configuration block"
path = "/etc/myapp/config.conf"
state = "present"
block = """
# Custom configuration
custom_option = true
custom_value = 42
"""
marker = "# {mark} Custom Config"
</code></pre>
<p><strong>Insert block after specific content</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: blockinfile
  description: "Add SSL configuration"
  path: /etc/httpd/httpd.conf
  state: present
  block: |
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/server.crt
    SSLCertificateKeyFile /etc/ssl/private/server.key
  insertafter: "^# LoadModule ssl_module"
  marker: "# {mark} SSL Config"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "blockinfile",
  "description": "Add SSL configuration",
  "path": "/etc/httpd/httpd.conf",
  "state": "present",
  "block": "SSLEngine on\nSSLCertificateFile /etc/ssl/certs/server.crt\nSSLCertificateKeyFile /etc/ssl/private/server.key\n",
  "insertafter": "^# LoadModule ssl_module",
  "marker": "# {mark} SSL Config"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "blockinfile"
description = "Add SSL configuration"
path = "/etc/httpd/httpd.conf"
state = "present"
block = """
SSLEngine on
SSLCertificateFile /etc/ssl/certs/server.crt
SSLCertificateKeyFile /etc/ssl/private/server.key
"""
insertafter = "^# LoadModule ssl_module"
marker = "# {mark} SSL Config"
</code></pre>
<p><strong>Insert block with backup</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: blockinfile
  description: "Add firewall rules with backup"
  path: /etc/iptables/rules.v4
  state: present
  block: |
    -A INPUT -p tcp --dport 80 -j ACCEPT
    -A INPUT -p tcp --dport 443 -j ACCEPT
  marker: "# {mark} Web Rules"
  backup: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "blockinfile",
  "description": "Add firewall rules with backup",
  "path": "/etc/iptables/rules.v4",
  "state": "present",
  "block": "-A INPUT -p tcp --dport 80 -j ACCEPT\n-A INPUT -p tcp --dport 443 -j ACCEPT\n",
  "marker": "# {mark} Web Rules",
  "backup": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "blockinfile"
description = "Add firewall rules with backup"
path = "/etc/iptables/rules.v4"
state = "present"
block = """
-A INPUT -p tcp --dport 80 -j ACCEPT
-A INPUT -p tcp --dport 443 -j ACCEPT
"""
marker = "# {mark} Web Rules"
backup = true
</code></pre>
<p><strong>Remove a configuration block</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: blockinfile
  description: "Remove old configuration"
  path: /etc/myapp/config.conf
  state: absent
  marker: "# {mark} Old Config"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "blockinfile",
  "description": "Remove old configuration",
  "path": "/etc/myapp/config.conf",
  "state": "absent",
  "marker": "# {mark} Old Config"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "blockinfile"
description = "Remove old configuration"
path = "/etc/myapp/config.conf"
state = "absent"
marker = "# {mark} Old Config"
</code></pre>
<h4 id="copy"><a class="header" href="#copy">copy</a></h4>
<p><strong>Description</strong>: Copy files task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>backup</code> (bool):
Whether to create backup of destination</p>
</li>
<li>
<p><code>dest</code> (String):
Destination file path</p>
</li>
<li>
<p><code>follow</code> (bool):
Whether to follow symlinks</p>
</li>
<li>
<p><code>force</code> (bool):
Force copy even if destination exists</p>
</li>
<li>
<p><code>mode</code> (bool):
Whether to preserve permissions</p>
</li>
<li>
<p><code>owner</code> (bool):
Whether to preserve ownership</p>
</li>
<li>
<p><code>src</code> (String):
Source file path</p>
</li>
<li>
<p><code>state</code> (CopyState):
Copy state</p>
</li>
<li>
<p><code>timestamp</code> (bool):
Whether to preserve timestamps</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Copy a file</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: copy
  description: "Copy configuration file"
  src: /etc/nginx/nginx.conf.template
  dest: /etc/nginx/nginx.conf
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "copy",
  "description": "Copy configuration file",
  "src": "/etc/nginx/nginx.conf.template",
  "dest": "/etc/nginx/nginx.conf",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "copy"
description = "Copy configuration file"
src = "/etc/nginx/nginx.conf.template"
dest = "/etc/nginx/nginx.conf"
state = "present"
</code></pre>
<p><strong>Copy with backup</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: copy
  description: "Copy config with backup"
  src: /tmp/new-config.conf
  dest: /etc/myapp/config.conf
  state: present
  backup: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "copy",
  "description": "Copy config with backup",
  "src": "/tmp/new-config.conf",
  "dest": "/etc/myapp/config.conf",
  "state": "present",
  "backup": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "copy"
description = "Copy config with backup"
src = "/tmp/new-config.conf"
dest = "/etc/myapp/config.conf"
state = "present"
backup = true
</code></pre>
<p><strong>Remove a copied file</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: copy
  description: "Remove copied configuration"
  src: /etc/nginx/nginx.conf.template
  dest: /etc/nginx/nginx.conf
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "copy",
  "description": "Remove copied configuration",
  "src": "/etc/nginx/nginx.conf.template",
  "dest": "/etc/nginx/nginx.conf",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "copy"
description = "Remove copied configuration"
src = "/etc/nginx/nginx.conf.template"
dest = "/etc/nginx/nginx.conf"
state = "absent"
</code></pre>
<h4 id="directory"><a class="header" href="#directory">directory</a></h4>
<p><strong>Description</strong>: Directory management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>parents</code> (bool):
Whether to create parent directories</p>
</li>
<li>
<p><code>path</code> (String):
Directory path</p>
</li>
<li>
<p><code>recurse</code> (bool):
Whether to recursively set permissions</p>
</li>
<li>
<p><code>state</code> (DirectoryState):
Directory state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>group</code> (Option<string>):
Directory group</string></p>
</li>
<li>
<p><code>mode</code> (Option<string>):
Directory permissions (octal string like “0755”)</string></p>
</li>
<li>
<p><code>owner</code> (Option<string>):
Directory owner</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Create a directory</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: directory
  description: "Create application directory"
  path: /opt/myapp
  state: present
  mode: "0755"
  owner: root
  group: root
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "directory",
  "description": "Create application directory",
  "path": "/opt/myapp",
  "state": "present",
  "mode": "0755",
  "owner": "root",
  "group": "root"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "directory"
description = "Create application directory"
path = "/opt/myapp"
state = "present"
mode = "0755"
owner = "root"
group = "root"
</code></pre>
<p><strong>Create directory with parent directories</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: directory
  description: "Create nested directory structure"
  path: /var/log/myapp/subdir
  state: present
  mode: "0750"
  owner: myapp
  group: myapp
  parents: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "directory",
  "description": "Create nested directory structure",
  "path": "/var/log/myapp/subdir",
  "state": "present",
  "mode": "0750",
  "owner": "myapp",
  "group": "myapp",
  "parents": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "directory"
description = "Create nested directory structure"
path = "/var/log/myapp/subdir"
state = "present"
mode = "0750"
owner = "myapp"
group = "myapp"
parents = true
</code></pre>
<p><strong>Remove a directory</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: directory
  description: "Remove temporary directory"
  path: /tmp/old-data
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "directory",
  "description": "Remove temporary directory",
  "path": "/tmp/old-data",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "directory"
description = "Remove temporary directory"
path = "/tmp/old-data"
state = "absent"
</code></pre>
<h4 id="fetch"><a class="header" href="#fetch">fetch</a></h4>
<p><strong>Description</strong>: Fetch files from remote hosts task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>dest</code> (String):
Destination file path</p>
</li>
<li>
<p><code>follow_redirects</code> (bool):
Follow redirects</p>
</li>
<li>
<p><code>force</code> (bool):
Force download even if file exists</p>
</li>
<li>
<p><code>headers</code> (HashMap&lt;String, String&gt;):
HTTP headers</p>
</li>
<li>
<p><code>state</code> (FetchState):
Fetch state</p>
</li>
<li>
<p><code>timeout</code> (u64):
Timeout in seconds</p>
</li>
<li>
<p><code>url</code> (String):
Source URL</p>
</li>
<li>
<p><code>validate_certs</code> (bool):
Validate SSL certificates</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>password</code> (Option<string>):
Password for basic auth</string></p>
</li>
<li>
<p><code>username</code> (Option<string>):
Username for basic auth</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Download a file</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: fetch
  description: "Download configuration file"
  url: http://example.com/config.yml
  dest: /etc/myapp/config.yml
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "fetch",
  "description": "Download configuration file",
  "url": "http://example.com/config.yml",
  "dest": "/etc/myapp/config.yml",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "fetch"
description = "Download configuration file"
url = "http://example.com/config.yml"
dest = "/etc/myapp/config.yml"
state = "present"
</code></pre>
<p><strong>Download with authentication</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: fetch
  description: "Download private file"
  url: https://private.example.com/file.txt
  dest: /tmp/private.txt
  state: present
  username: myuser
  password: mypassword
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "fetch",
  "description": "Download private file",
  "url": "https://private.example.com/file.txt",
  "dest": "/tmp/private.txt",
  "state": "present",
  "username": "myuser",
  "password": "mypassword"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "fetch"
description = "Download private file"
url = "https://private.example.com/file.txt"
dest = "/tmp/private.txt"
state = "present"
username = "myuser"
password = "mypassword"
</code></pre>
<p><strong>Download with custom headers</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: fetch
  description: "Download with custom headers"
  url: https://api.example.com/data.json
  dest: /tmp/data.json
  state: present
  headers:
    Authorization: "Bearer token123"
    X-API-Key: "apikey456"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "fetch",
  "description": "Download with custom headers",
  "url": "https://api.example.com/data.json",
  "dest": "/tmp/data.json",
  "state": "present",
  "headers": {
    "Authorization": "Bearer token123",
    "X-API-Key": "apikey456"
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "fetch"
description = "Download with custom headers"
url = "https://api.example.com/data.json"
dest = "/tmp/data.json"
state = "present"
headers = { Authorization = "Bearer token123", "X-API-Key" = "apikey456" }
</code></pre>
<p><strong>Force download</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: fetch
  description: "Force download latest version"
  url: https://example.com/latest.tar.gz
  dest: /tmp/latest.tar.gz
  state: present
  force: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "fetch",
  "description": "Force download latest version",
  "url": "https://example.com/latest.tar.gz",
  "dest": "/tmp/latest.tar.gz",
  "state": "present",
  "force": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "fetch"
description = "Force download latest version"
url = "https://example.com/latest.tar.gz"
dest = "/tmp/latest.tar.gz"
state = "present"
force = true
</code></pre>
<h4 id="file"><a class="header" href="#file">file</a></h4>
<p><strong>Description</strong>: File operation task</p>
<p>Manages files and directories - create, modify, or remove files with content,
permissions, and ownership. Similar to Ansible’s <code>file</code> module.</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>path</code> (String):
Path to the file or directory</p>
<p>Absolute path to the file or directory to manage.
Parent directories will not be created automatically.</p>
</li>
<li>
<p><code>state</code> (FileState):
File state (present, absent)</p>
<ul>
<li><code>present</code>: Ensure the file exists with specified properties</li>
<li><code>absent</code>: Ensure the file does not exist</li>
</ul>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>content</code> (Option<string>):
File content (for present state)</string></p>
<p>Content to write to the file when state is <code>present</code>.
Mutually exclusive with <code>source</code>.</p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>group</code> (Option<string>):
File group name</string></p>
<p>Group name for the file. Only applied when creating or modifying files.</p>
</li>
<li>
<p><code>mode</code> (Option<string>):
File permissions (octal string like “0644”)</string></p>
<p>File permissions in octal notation (e.g., “0644”, “0755”).
Only applied when creating or modifying files.</p>
</li>
<li>
<p><code>owner</code> (Option<string>):
File owner username</string></p>
<p>Username of the file owner. Only applied when creating or modifying files.</p>
</li>
<li>
<p><code>source</code> (Option<string>):
Source file to copy from (alternative to content)</string></p>
<p>Path to a source file to copy content from when state is <code>present</code>.
Mutually exclusive with <code>content</code>.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Create a file with content</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: file
  description: "Create nginx configuration file"
  path: /etc/nginx/sites-available/default
  state: present
  content: |
    server {
        listen 80;
        root /var/www/html;
        index index.html index.htm;
        location / {
            try_files $uri $uri/ =404;
        }
    }
  mode: "0644"
  owner: root
  group: root
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "file",
  "description": "Create nginx configuration file",
  "path": "/etc/nginx/sites-available/default",
  "state": "present",
  "content": "server {\n    listen 80;\n    root /var/www/html;\n    index index.html index.htm;\n\n    location / {\n        try_files $uri $uri/ =404;\n    }\n}",
  "mode": "0644",
  "owner": "root",
  "group": "root"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "file"
description = "Create nginx configuration file"
path = "/etc/nginx/sites-available/default"
state = "present"
content = """
server {
    listen 80;
    root /var/www/html;
    index index.html index.htm;
    location / {
        try_files $uri $uri/ =404;
    }
}
"""
mode = "0644"
owner = "root"
group = "root"
</code></pre>
<p><strong>Register file creation</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: file
  description: "Create marker file"
  path: /tmp/driftless.marker
  state: present
  register: marker_file
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "file",
  "description": "Create marker file",
  "path": "/tmp/driftless.marker",
  "state": "present",
  "register": "marker_file"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "file"
description = "Create marker file"
path = "/tmp/driftless.marker"
state = "present"
register = "marker_file"
</code></pre>
<h4 id="lineinfile"><a class="header" href="#lineinfile">lineinfile</a></h4>
<p><strong>Description</strong>: Ensure line in file task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>backup</code> (bool):
Backup file before modification</p>
</li>
<li>
<p><code>create</code> (bool):
Create file if it doesn’t exist</p>
</li>
<li>
<p><code>line</code> (String):
The line content</p>
</li>
<li>
<p><code>path</code> (String):
Path to the file</p>
</li>
<li>
<p><code>state</code> (LineInFileState):
Line state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>insertafter</code> (Option<string>):
Insert after this line (regex)</string></p>
</li>
<li>
<p><code>insertbefore</code> (Option<string>):
Insert before this line (regex)</string></p>
</li>
<li>
<p><code>regexp</code> (Option<string>):
Regular expression to match existing line</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Add a line to a file</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: lineinfile
  description: "Add localhost entry to hosts file"
  path: /etc/hosts
  state: present
  line: "127.0.0.1 localhost"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "lineinfile",
  "description": "Add localhost entry to hosts file",
  "path": "/etc/hosts",
  "state": "present",
  "line": "127.0.0.1 localhost"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "lineinfile"
description = "Add localhost entry to hosts file"
path = "/etc/hosts"
state = "present"
line = "127.0.0.1 localhost"
</code></pre>
<p><strong>Replace a line using regex</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: lineinfile
  description: "Update SSH port configuration"
  path: /etc/ssh/sshd_config
  state: present
  regexp: "^#?Port .*"
  line: "Port 22"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "lineinfile",
  "description": "Update SSH port configuration",
  "path": "/etc/ssh/sshd_config",
  "state": "present",
  "regexp": "^#?Port .*",
  "line": "Port 22"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "lineinfile"
description = "Update SSH port configuration"
path = "/etc/ssh/sshd_config"
state = "present"
regexp = "^#?Port .*"
line = "Port 22"
</code></pre>
<p><strong>Insert line after a pattern</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: lineinfile
  description: "Add include directive after main config"
  path: /etc/nginx/nginx.conf
  state: present
  line: "include /etc/nginx/sites-enabled/*;"
  insertafter: "http \{"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "lineinfile",
  "description": "Add include directive after main config",
  "path": "/etc/nginx/nginx.conf",
  "state": "present",
  "line": "include /etc/nginx/sites-enabled/*;",
  "insertafter": "http \{"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "lineinfile"
description = "Add include directive after main config"
path = "/etc/nginx/nginx.conf"
state = "present"
line = "include /etc/nginx/sites-enabled/*;"
insertafter = "http \{"
</code></pre>
<h4 id="replace"><a class="header" href="#replace">replace</a></h4>
<p><strong>Description</strong>: Replace text in files task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>backup</code> (bool):
Backup file before modification</p>
</li>
<li>
<p><code>path</code> (String):
Path to the file</p>
</li>
<li>
<p><code>replace</code> (String):
Replacement string</p>
</li>
<li>
<p><code>replace_all</code> (bool):
Replace all occurrences</p>
</li>
<li>
<p><code>state</code> (ReplaceState):
Replace state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>before</code> (Option<string>):
String to match (alternative to regexp)</string></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>regexp</code> (Option<string>):
Regular expression to match</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Replace text using regex</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: replace
  description: "Update database host"
  path: /etc/myapp/config.ini
  state: present
  regexp: '^db_host\s*=\s*.*$'
  replace: 'db_host = newdb.example.com'
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "replace",
  "description": "Update database host",
  "path": "/etc/myapp/config.ini",
  "state": "present",
  "regexp": "^db_host\\s*=\\s*.*$",
  "replace": "db_host = newdb.example.com"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "replace"
description = "Update database host"
path = "/etc/myapp/config.ini"
state = "present"
regexp = "^db_host\\s*=\\s*.*$"
replace = "db_host = newdb.example.com"
</code></pre>
<p><strong>Replace string literal</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: replace
  description: "Update version number"
  path: /opt/myapp/version.txt
  state: present
  before: 'version = "1.0.0"'
  replace: 'version = "1.1.0"'
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "replace",
  "description": "Update version number",
  "path": "/opt/myapp/version.txt",
  "state": "present",
  "before": "version = \"1.0.0\"",
  "replace": "version = \"1.1.0\""
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "replace"
description = "Update version number"
path = "/opt/myapp/version.txt"
state = "present"
before = 'version = "1.0.0"'
replace = 'version = "1.1.0"'
</code></pre>
<p><strong>Replace with backup</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: replace
  description: "Update configuration with backup"
  path: /etc/httpd/httpd.conf
  state: present
  regexp: '^Listen 80$'
  replace: 'Listen 8080'
  backup: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "replace",
  "description": "Update configuration with backup",
  "path": "/etc/httpd/httpd.conf",
  "state": "present",
  "regexp": "^Listen 80$",
  "replace": "Listen 8080",
  "backup": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "replace"
description = "Update configuration with backup"
path = "/etc/httpd/httpd.conf"
state = "present"
regexp = "^Listen 80$"
replace = "Listen 8080"
backup = true
</code></pre>
<p><strong>Replace all occurrences</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: replace
  description: "Update all IP addresses"
  path: /etc/hosts
  state: present
  regexp: '192\.168\.1\.\d+'
  replace: '10.0.0.100'
  replace_all: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "replace",
  "description": "Update all IP addresses",
  "path": "/etc/hosts",
  "state": "present",
  "regexp": "192\\.168\\.1\\.\\d+",
  "replace": "10.0.0.100",
  "replace_all": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "replace"
description = "Update all IP addresses"
path = "/etc/hosts"
state = "present"
regexp = "192\\.168\\.1\\.\\d+"
replace = "10.0.0.100"
replace_all = true
</code></pre>
<h4 id="stat"><a class="header" href="#stat">stat</a></h4>
<p><strong>Description</strong>: File/directory statistics task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>checksum</code> (bool):
Get checksum of file</p>
</li>
<li>
<p><code>checksum_algorithm</code> (ChecksumAlgorithm):
Checksum algorithm</p>
</li>
<li>
<p><code>follow</code> (bool):
Whether to follow symlinks</p>
</li>
<li>
<p><code>path</code> (String):
Path to check</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>register</code> (Option<string>):
Optional variable name to register the task result in</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Registered Outputs</strong>:</p>
<ul>
<li><code>checksum</code> (String): The file checksum (if <code>checksum</code> is true)</li>
<li><code>exists</code> (bool): Whether the file or directory exists</li>
<li><code>gid</code> (u32): The group ID of the owner</li>
<li><code>is_dir</code> (bool): Whether the path is a directory</li>
<li><code>is_file</code> (bool): Whether the path is a file</li>
<li><code>mode</code> (u32): The file mode (permissions)</li>
<li><code>modified</code> (u64): Last modification time (epoch seconds)</li>
<li><code>size</code> (u64): The size of the file in bytes</li>
<li><code>uid</code> (u32): The user ID of the owner</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Get file statistics</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: stat
  description: "Get file statistics"
  path: /etc/passwd
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "stat",
  "description": "Get file statistics",
  "path": "/etc/passwd"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "stat"
description = "Get file statistics"
path = "/etc/passwd"
</code></pre>
<p><strong>Get file checksum</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: stat
  description: "Get file checksum"
  path: /etc/hosts
  checksum: true
  checksum_algorithm: sha256
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "stat",
  "description": "Get file checksum",
  "path": "/etc/hosts",
  "checksum": true,
  "checksum_algorithm": "sha256"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "stat"
description = "Get file checksum"
path = "/etc/hosts"
checksum = true
checksum_algorithm = "sha256"
</code></pre>
<p><strong>Follow symlinks</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: stat
  description: "Follow symlink for statistics"
  path: /var/log/syslog
  follow: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "stat",
  "description": "Follow symlink for statistics",
  "path": "/var/log/syslog",
  "follow": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "stat"
description = "Follow symlink for statistics"
path = "/var/log/syslog"
follow = true
</code></pre>
<p><strong>Register file status</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: stat
  description: "Check if nginx config exists"
  path: /etc/nginx/nginx.conf
  register: nginx_conf
- type: debug
  msg: "Nginx config exists: {{ nginx_conf.exists }}"
  when: "{{ nginx_conf.exists }}"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "stat",
    "description": "Check if nginx config exists",
    "path": "/etc/nginx/nginx.conf",
    "register": "nginx_conf"
  },
  {
    "type": "debug",
    "msg": "Nginx config exists: {{ nginx_conf.exists }}",
    "when": "{{ nginx_conf.exists }}"
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "stat"
description = "Check if nginx config exists"
path = "/etc/nginx/nginx.conf"
register = "nginx_conf"
[[tasks]]
type = "debug"
msg = "Nginx config exists: {{ nginx_conf.exists }}"
when = "{{ nginx_conf.exists }}"
</code></pre>
<p><strong>Get directory statistics</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: stat
  description: "Get directory statistics"
  path: /home/user
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "stat",
  "description": "Get directory statistics",
  "path": "/home/user"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "stat"
description = "Get directory statistics"
path = "/home/user"
</code></pre>
<h4 id="template"><a class="header" href="#template">template</a></h4>
<p><strong>Description</strong>: Template rendering task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>backup</code> (bool):
Backup destination before templating</p>
</li>
<li>
<p><code>dest</code> (String):
Destination file</p>
</li>
<li>
<p><code>force</code> (bool):
Force template rendering</p>
</li>
<li>
<p><code>src</code> (String):
Source template file</p>
</li>
<li>
<p><code>state</code> (TemplateState):
Template state</p>
</li>
<li>
<p><code>vars</code> (HashMap&lt;String, Value&gt;):
Variables for template rendering</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>template_dir</code> (Option<string>):
Template directory for includes/imports</string></p>
<p>Directory containing templates that can be included or imported.
If not specified, includes/imports will not work.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Render a template</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: template
  description: "Render nginx configuration"
  src: /templates/nginx.conf.j2
  dest: /etc/nginx/sites-available/default
  state: present
  vars:
    server_name: example.com
    port: 80
    root_dir: /var/www/html
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "template",
  "description": "Render nginx configuration",
  "src": "/templates/nginx.conf.j2",
  "dest": "/etc/nginx/sites-available/default",
  "state": "present",
  "vars": {
    "server_name": "example.com",
    "port": 80,
    "root_dir": "/var/www/html"
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "template"
description = "Render nginx configuration"
src = "/templates/nginx.conf.j2"
dest = "/etc/nginx/sites-available/default"
state = "present"
[tasks.vars]
server_name = "example.com"
port = 80
root_dir = "/var/www/html"
</code></pre>
<p><strong>Render template with backup</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: template
  description: "Update config with backup"
  src: /templates/app.conf.j2
  dest: /etc/myapp/config.conf
  state: present
  backup: true
  vars:
    database_host: localhost
    database_port: 5432
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "template",
  "description": "Update config with backup",
  "src": "/templates/app.conf.j2",
  "dest": "/etc/myapp/config.conf",
  "state": "present",
  "backup": true,
  "vars": {
    "database_host": "localhost",
    "database_port": 5432
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "template"
description = "Update config with backup"
src = "/templates/app.conf.j2"
dest = "/etc/myapp/config.conf"
state = "present"
backup = true
[tasks.vars]
database_host = "localhost"
database_port = 5432
</code></pre>
<p><strong>Remove rendered template</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: template
  description: "Remove rendered configuration"
  src: /templates/old.conf.j2
  dest: /etc/oldapp/config.conf
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "template",
  "description": "Remove rendered configuration",
  "src": "/templates/old.conf.j2",
  "dest": "/etc/oldapp/config.conf",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "template"
description = "Remove rendered configuration"
src = "/templates/old.conf.j2"
dest = "/etc/oldapp/config.conf"
state = "absent"
</code></pre>
<h4 id="unarchive"><a class="header" href="#unarchive">unarchive</a></h4>
<p><strong>Description</strong>: Unarchive files task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>creates</code> (bool):
Whether to create destination directory</p>
</li>
<li>
<p><code>dest</code> (String):
Destination directory</p>
</li>
<li>
<p><code>extra_opts</code> (Vec<string>):
Extra options for extraction</string></p>
</li>
<li>
<p><code>follow_redirects</code> (bool):
Follow redirects for URL downloads</p>
</li>
<li>
<p><code>headers</code> (HashMap&lt;String, String&gt;):
HTTP headers for URL downloads</p>
</li>
<li>
<p><code>keep_original</code> (bool):
Whether to keep the archive after extraction</p>
</li>
<li>
<p><code>list_files</code> (Vec<string>):
List of files to extract (empty = all)</string></p>
</li>
<li>
<p><code>src</code> (String):
Source archive file (local path) or URL</p>
</li>
<li>
<p><code>state</code> (UnarchiveState):
Unarchive state</p>
</li>
<li>
<p><code>timeout</code> (u64):
Timeout for URL downloads</p>
</li>
<li>
<p><code>validate_certs</code> (bool):
Validate SSL certificates for URL downloads</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>format</code> (Option<archiveformat>):
Archive format (auto-detect if not specified)</archiveformat></p>
</li>
<li>
<p><code>password</code> (Option<string>):
Password for basic auth for URL downloads</string></p>
</li>
<li>
<p><code>username</code> (Option<string>):
Username for basic auth for URL downloads</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Extract a tar archive</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: unarchive
  description: "Extract application archive"
  src: /tmp/myapp.tar.gz
  dest: /opt/myapp
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "unarchive",
  "description": "Extract application archive",
  "src": "/tmp/myapp.tar.gz",
  "dest": "/opt/myapp",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "unarchive"
description = "Extract application archive"
src = "/tmp/myapp.tar.gz"
dest = "/opt/myapp"
state = "present"
</code></pre>
<p><strong>Extract from URL</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: unarchive
  description: "Download and extract software"
  src: https://example.com/software.tar.gz
  dest: /opt/software
  state: present
  creates: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "unarchive",
  "description": "Download and extract software",
  "src": "https://example.com/software.tar.gz",
  "dest": "/opt/software",
  "state": "present",
  "creates": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "unarchive"
description = "Download and extract software"
src = "https://example.com/software.tar.gz"
dest = "/opt/software"
state = "present"
creates = true
</code></pre>
<p><strong>Extract specific files</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: unarchive
  description: "Extract configuration files"
  src: /tmp/configs.tar.gz
  dest: /etc/myapp
  state: present
  list_files:
    - config.yml
    - settings.json
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "unarchive",
  "description": "Extract configuration files",
  "src": "/tmp/configs.tar.gz",
  "dest": "/etc/myapp",
  "state": "present",
  "list_files": ["config.yml", "settings.json"]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "unarchive"
description = "Extract configuration files"
src = "/tmp/configs.tar.gz"
dest = "/etc/myapp"
state = "present"
list_files = ["config.yml", "settings.json"]
</code></pre>
<p><strong>Extract zip archive</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: unarchive
  description: "Extract zip archive"
  src: /tmp/data.zip
  dest: /var/data
  state: present
  format: zip
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "unarchive",
  "description": "Extract zip archive",
  "src": "/tmp/data.zip",
  "dest": "/var/data",
  "state": "present",
  "format": "zip"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "unarchive"
description = "Extract zip archive"
src = "/tmp/data.zip"
dest = "/var/data"
state = "present"
format = "zip"
</code></pre>
<h3 id="monitoring--logging"><a class="header" href="#monitoring--logging">Monitoring &amp; Logging</a></h3>
<h4 id="journald"><a class="header" href="#journald">journald</a></h4>
<p><strong>Description</strong>: Journald configuration task</p>
<p>Manages systemd journal configuration. Can modify the main /etc/systemd/journald.conf
file or create drop-in configuration files in /etc/systemd/journald.conf.d/.
Supports all journald configuration options like storage settings, size limits,
forwarding options, and compression settings.</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>config</code> (HashMap&lt;String, String&gt;):
Journald configuration options</p>
<p>Key-value pairs of journald configuration options. Required when state is present.
Common options include:</p>
<ul>
<li>Storage: volatile|persistent|auto|none</li>
<li>SystemMaxUse: Maximum disk space to use</li>
<li>SystemKeepFree: Disk space to keep free</li>
<li>SystemMaxFileSize: Maximum size of individual journal files</li>
<li>MaxRetentionSec: Maximum time to retain journal entries</li>
<li>ForwardToSyslog: Forward to syslog</li>
<li>Compress: Enable compression</li>
</ul>
</li>
<li>
<p><code>state</code> (JournaldState):
Configuration state (present, absent)</p>
<ul>
<li><code>present</code>: Ensure the journald configuration exists</li>
<li><code>absent</code>: Ensure the journald configuration does not exist</li>
</ul>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>name</code> (Option<string>):
Configuration name (for drop-in configs)</string></p>
<p>Name of the drop-in configuration file to create in /etc/systemd/journald.conf.d/.
If not specified, modifies the main /etc/systemd/journald.conf file.
This becomes the filename (e.g., “storage” creates /etc/systemd/journald.conf.d/storage.conf).</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Configure journald storage and rotation</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: journald
  description: "Configure systemd journal settings"
  config:
    Storage: persistent
    SystemMaxUse: 100M
    SystemKeepFree: 500M
    SystemMaxFileSize: 10M
    MaxRetentionSec: 1week
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "journald",
  "description": "Configure systemd journal settings",
  "config": {
    "Storage": "persistent",
    "SystemMaxUse": "100M",
    "SystemKeepFree": "500M",
    "SystemMaxFileSize": "10M",
    "MaxRetentionSec": "1week"
  },
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "journald"
description = "Configure systemd journal settings"
[tasks.config]
Storage = "persistent"
SystemMaxUse = "100M"
SystemKeepFree = "500M"
SystemMaxFileSize = "10M"
MaxRetentionSec = "1week"
state = "present"
</code></pre>
<h4 id="logrotate"><a class="header" href="#logrotate">logrotate</a></h4>
<p><strong>Description</strong>: Logrotate configuration task</p>
<p>Manages logrotate configuration files in /etc/logrotate.d/.
Creates or removes logrotate configuration snippets for log rotation management.</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>name</code> (String):
Configuration name</p>
<p>Name of the logrotate configuration file to create in /etc/logrotate.d/.
This becomes the filename (e.g., “nginx” creates /etc/logrotate.d/nginx).</p>
</li>
<li>
<p><code>options</code> (Vec<string>):
Logrotate options</string></p>
<p>List of logrotate configuration options. Common options include:</p>
<ul>
<li>“daily”, “weekly”, “monthly”, “yearly”</li>
<li>“rotate N” (keep N rotations)</li>
<li>“compress”, “delaycompress”</li>
<li>“missingok”, “notifempty”</li>
<li>“create MODE OWNER GROUP”</li>
</ul>
</li>
<li>
<p><code>state</code> (LogrotateState):
Configuration state (present, absent)</p>
<ul>
<li><code>present</code>: Ensure the logrotate configuration exists</li>
<li><code>absent</code>: Ensure the logrotate configuration does not exist</li>
</ul>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>path</code> (Option<string>):
Log file path(s)</string></p>
<p>Path or glob pattern for log files to rotate. Required when state is present.
Examples: “/var/log/app/*.log”, “/var/log/nginx/access.log”</p>
</li>
<li>
<p><code>postrotate</code> (Option<string>):
Post-rotate script</string></p>
<p>Shell commands to execute after log rotation.
Commonly used to reload services after log rotation.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Create a logrotate configuration for nginx</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: logrotate
  description: "Configure nginx log rotation"
  name: nginx
  path: /var/log/nginx/*.log
  options:
    - weekly
    - rotate 52
    - compress
    - delaycompress
    - missingok
    - notifempty
    - create 644 www-data www-data
  postrotate: |
    systemctl reload nginx
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "logrotate",
  "description": "Configure nginx log rotation",
  "name": "nginx",
  "path": "/var/log/nginx/*.log",
  "options": [
    "weekly",
    "rotate 52",
    "compress",
    "delaycompress",
    "missingok",
    "notifempty",
    "create 644 www-data www-data"
  ],
  "postrotate": "systemctl reload nginx\n",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "logrotate"
description = "Configure nginx log rotation"
name = "nginx"
path = "/var/log/nginx/*.log"
options = [
  "weekly",
  "rotate 52",
  "compress",
  "delaycompress",
  "missingok",
  "notifempty",
  "create 644 www-data www-data"
]
postrotate = """
systemctl reload nginx
"""
state = "present"
</code></pre>
<h4 id="rsyslog"><a class="header" href="#rsyslog">rsyslog</a></h4>
<p><strong>Description</strong>: Rsyslog configuration task</p>
<p>Manages rsyslog configuration files in /etc/rsyslog.d/.
Creates or removes rsyslog configuration snippets for log processing and forwarding.</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>name</code> (String):
Configuration name</p>
<p>Name of the rsyslog configuration file to create in /etc/rsyslog.d/.
This becomes the filename (e.g., “remote-logging” creates /etc/rsyslog.d/remote-logging.conf).</p>
</li>
<li>
<p><code>state</code> (RsyslogState):
Configuration state (present, absent)</p>
<ul>
<li><code>present</code>: Ensure the rsyslog configuration exists</li>
<li><code>absent</code>: Ensure the rsyslog configuration does not exist</li>
</ul>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>config</code> (Option<string>):
Rsyslog configuration content</string></p>
<p>The rsyslog configuration directives. Required when state is present.
Examples include log forwarding rules, custom log files, filters, etc.</p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Create an rsyslog configuration for remote logging</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: rsyslog
  description: "Configure remote log forwarding"
  name: remote-logging
  config: |
    # Forward all logs to remote server
    *.* @@logserver.example.com:514
    # Forward auth logs with TCP
    auth.* @@logserver.example.com:514
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "rsyslog",
  "description": "Configure remote log forwarding",
  "name": "remote-logging",
  "config": "*.* @@logserver.example.com:514\n\nauth.* @@logserver.example.com:514\n",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "rsyslog"
description = "Configure remote log forwarding"
name = "remote-logging"
config = """
*.* @@logserver.example.com:514
auth.* @@logserver.example.com:514
"""
state = "present"
</code></pre>
<h3 id="network-operations"><a class="header" href="#network-operations">Network Operations</a></h3>
<h4 id="geturl"><a class="header" href="#geturl">geturl</a></h4>
<p><strong>Description</strong>: Download files from HTTP/HTTPS/FTP task</p>
<p>Downloads files from web servers or FTP servers. Supports authentication,
checksum validation, and file permission management. Similar to Ansible’s <code>get_url</code> module.</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>backup</code> (bool):
Backup destination before download</p>
</li>
<li>
<p><code>dest</code> (String):
Destination file path</p>
</li>
<li>
<p><code>follow_redirects</code> (bool):
Follow redirects</p>
</li>
<li>
<p><code>force</code> (bool):
Force download even if file exists</p>
</li>
<li>
<p><code>headers</code> (HashMap&lt;String, String&gt;):
HTTP headers</p>
</li>
<li>
<p><code>state</code> (GetUrlState):
Get URL state</p>
</li>
<li>
<p><code>timeout</code> (u64):
Timeout in seconds</p>
</li>
<li>
<p><code>url</code> (String):
Source URL</p>
</li>
<li>
<p><code>validate_certs</code> (bool):
Validate SSL certificates</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>checksum</code> (Option<string>):
Checksum validation</string></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>group</code> (Option<string>):
File group</string></p>
</li>
<li>
<p><code>mode</code> (Option<string>):
File permissions (octal string like “0644”)</string></p>
</li>
<li>
<p><code>owner</code> (Option<string>):
File owner</string></p>
</li>
<li>
<p><code>password</code> (Option<string>):
Password for basic auth</string></p>
</li>
<li>
<p><code>username</code> (Option<string>):
Username for basic auth</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Download a file</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: get_url
  description: "Download configuration file"
  url: https://example.com/config.yml
  dest: /etc/myapp/config.yml
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "get_url",
  "description": "Download configuration file",
  "url": "https://example.com/config.yml",
  "dest": "/etc/myapp/config.yml",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "get_url"
description = "Download configuration file"
url = "https://example.com/config.yml"
dest = "/etc/myapp/config.yml"
state = "present"
</code></pre>
<p><strong>Download with checksum validation</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: get_url
  description: "Download software with checksum validation"
  url: https://example.com/software.tar.gz
  dest: /tmp/software.tar.gz
  state: present
  checksum: sha256:abc123def456...
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "get_url",
  "description": "Download software with checksum validation",
  "url": "https://example.com/software.tar.gz",
  "dest": "/tmp/software.tar.gz",
  "state": "present",
  "checksum": "sha256:abc123def456..."
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "get_url"
description = "Download software with checksum validation"
url = "https://example.com/software.tar.gz"
dest = "/tmp/software.tar.gz"
state = "present"
checksum = "sha256:abc123def456..."
</code></pre>
<p><strong>Download with authentication</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: get_url
  description: "Download private file"
  url: https://private.example.com/file.txt
  dest: /tmp/private.txt
  state: present
  username: myuser
  password: mypassword
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "get_url",
  "description": "Download private file",
  "url": "https://private.example.com/file.txt",
  "dest": "/tmp/private.txt",
  "state": "present",
  "username": "myuser",
  "password": "mypassword"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "get_url"
description = "Download private file"
url = "https://private.example.com/file.txt"
dest = "/tmp/private.txt"
state = "present"
username = "myuser"
password = "mypassword"
</code></pre>
<p><strong>Download and set permissions</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: get_url
  description: "Download script with proper permissions"
  url: https://example.com/script.sh
  dest: /usr/local/bin/myscript.sh
  state: present
  mode: "0755"
  owner: root
  group: root
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "get_url",
  "description": "Download script with proper permissions",
  "url": "https://example.com/script.sh",
  "dest": "/usr/local/bin/myscript.sh",
  "state": "present",
  "mode": "0755",
  "owner": "root",
  "group": "root"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "get_url"
description = "Download script with proper permissions"
url = "https://example.com/script.sh"
dest = "/usr/local/bin/myscript.sh"
state = "present"
mode = "0755"
owner = "root"
group = "root"
</code></pre>
<h4 id="uri"><a class="header" href="#uri">uri</a></h4>
<p><strong>Description</strong>: Interact with web services task</p>
<p>Makes HTTP requests to web services and APIs. Validates responses and can
return content. Similar to Ansible’s <code>uri</code> module.</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>follow_redirects</code> (bool):
Follow redirects</p>
</li>
<li>
<p><code>force</code> (bool):
Force execution even if idempotent</p>
</li>
<li>
<p><code>headers</code> (HashMap&lt;String, String&gt;):
HTTP headers</p>
</li>
<li>
<p><code>method</code> (HttpMethod):
HTTP method</p>
</li>
<li>
<p><code>return_content</code> (bool):
Return content in result</p>
</li>
<li>
<p><code>state</code> (UriState):
URI state</p>
</li>
<li>
<p><code>status_code</code> (Vec<u16>):
Expected status codes</u16></p>
</li>
<li>
<p><code>timeout</code> (u64):
Timeout in seconds</p>
</li>
<li>
<p><code>url</code> (String):
Target URL</p>
</li>
<li>
<p><code>validate_certs</code> (bool):
Validate SSL certificates</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>body</code> (Option<string>):
Request body</string></p>
</li>
<li>
<p><code>content_type</code> (Option<string>):
Content type for request body</string></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>password</code> (Option<string>):
Password for basic auth</string></p>
</li>
<li>
<p><code>register</code> (Option<string>):
Optional variable name to register the task result in</string></p>
</li>
<li>
<p><code>username</code> (Option<string>):
Username for basic auth</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Registered Outputs</strong>:</p>
<ul>
<li><code>changed</code> (bool): Whether the request was successfully made</li>
<li><code>content</code> (String): The body of the response (if <code>return_content</code> is true)</li>
<li><code>status</code> (u16): The HTTP status code of the response</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Simple GET request</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: uri
  description: "Check API health endpoint"
  url: https://api.example.com/health
  method: GET
  status_code: 200
  return_content: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "uri",
  "description": "Check API health endpoint",
  "url": "https://api.example.com/health",
  "method": "GET",
  "status_code": 200,
  "return_content": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "uri"
description = "Check API health endpoint"
url = "https://api.example.com/health"
method = "GET"
status_code = 200
return_content = true
</code></pre>
<p><strong>POST request with JSON body</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: uri
  description: "Create a new user via API"
  url: https://api.example.com/users
  method: POST
  body: "{\"name\": \"John Doe\", \"email\": \"john@example.com\"}"
  headers:
    Content-Type: application/json
  status_code: 201
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "uri",
  "description": "Create a new user via API",
  "url": "https://api.example.com/users",
  "method": "POST",
  "body": "{\"name\": \"John Doe\", \"email\": \"john@example.com\"}",
  "headers": {
    "Content-Type": "application/json"
  },
  "status_code": 201
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "uri"
description = "Create a new user via API"
url = "https://api.example.com/users"
method = "POST"
body = "{\"name\": \"John Doe\", \"email\": \"john@example.com\"}"
[tasks.headers]
Content-Type = "application/json"
[tasks]]
status_code = 201
</code></pre>
<p><strong>Request with authentication</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: uri
  description: "Get user profile with authentication"
  url: https://api.example.com/profile
  method: GET
  username: myuser
  password: mypassword
  return_content: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "uri",
  "description": "Get user profile with authentication",
  "url": "https://api.example.com/profile",
  "method": "GET",
  "username": "myuser",
  "password": "mypassword",
  "return_content": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "uri"
description = "Get user profile with authentication"
url = "https://api.example.com/profile"
method = "GET"
username = "myuser"
password = "mypassword"
return_content = true
</code></pre>
<p><strong>Register URI response</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: uri
  description: "Get health status"
  url: https://api.example.com/health
  register: health_response
  return_content: true
- type: debug
  msg: "The API status code is: {{ health_response.status }}"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "uri",
    "description": "Get health status",
    "url": "https://api.example.com/health",
    "register": "health_response",
    "return_content": true
  },
  {
    "type": "debug",
    "msg": "The API status code is: {{ health_response.status }}"
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "uri"
description = "Get health status"
url = "https://api.example.com/health"
register = "health_response"
return_content = true
[[tasks]]
type = "debug"
msg = "The API status code is: {{ health_response.status }}"
</code></pre>
<h3 id="package-management"><a class="header" href="#package-management">Package Management</a></h3>
<h4 id="apt"><a class="header" href="#apt">apt</a></h4>
<p><strong>Description</strong>: Debian/Ubuntu package management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>allow_downgrades</code> (bool):
Allow downgrades</p>
</li>
<li>
<p><code>allow_unauthenticated</code> (bool):
Allow unauthenticated packages</p>
</li>
<li>
<p><code>autoclean</code> (bool):
Autoclean package cache</p>
</li>
<li>
<p><code>autoremove</code> (bool):
Autoremove unused packages</p>
</li>
<li>
<p><code>cache_valid_time</code> (u32):
Cache validity time in seconds</p>
</li>
<li>
<p><code>force</code> (bool):
Force installation</p>
</li>
<li>
<p><code>name</code> (String):
Package name</p>
</li>
<li>
<p><code>state</code> (PackageState):
Package state</p>
</li>
<li>
<p><code>update_cache</code> (bool):
Update package cache</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Install a package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: apt
  description: "Install curl package"
  name: curl
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "apt",
  "description": "Install curl package",
  "name": "curl",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "apt"
description = "Install curl package"
name = "curl"
state = "present"
</code></pre>
<p><strong>Install package with cache update</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: apt
  description: "Install nginx with cache update"
  name: nginx
  state: present
  update_cache: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "apt",
  "description": "Install nginx with cache update",
  "name": "nginx",
  "state": "present",
  "update_cache": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "apt"
description = "Install nginx with cache update"
name = "nginx"
state = "present"
update_cache = true
</code></pre>
<p><strong>Remove a package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: apt
  description: "Remove apache2 package"
  name: apache2
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "apt",
  "description": "Remove apache2 package",
  "name": "apache2",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "apt"
description = "Remove apache2 package"
name = "apache2"
state = "absent"
</code></pre>
<p><strong>Update package to latest version</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: apt
  description: "Update vim to latest version"
  name: vim
  state: latest
  update_cache: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "apt",
  "description": "Update vim to latest version",
  "name": "vim",
  "state": "latest",
  "update_cache": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "apt"
description = "Update vim to latest version"
name = "vim"
state = "latest"
update_cache = true
</code></pre>
<h4 id="gem"><a class="header" href="#gem">gem</a></h4>
<p><strong>Description</strong>: Ruby gem management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>executable</code> (String):
Ruby executable path</p>
</li>
<li>
<p><code>extra_args</code> (Vec<string>):
Extra arguments</string></p>
</li>
<li>
<p><code>force</code> (bool):
Force installation</p>
</li>
<li>
<p><code>gem_executable</code> (String):
Gem executable path</p>
</li>
<li>
<p><code>install_doc</code> (bool):
Install documentation</p>
</li>
<li>
<p><code>name</code> (String):
Gem name</p>
</li>
<li>
<p><code>state</code> (PackageState):
Gem state</p>
</li>
<li>
<p><code>user_install</code> (bool):
User installation</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>version</code> (Option<string>):
Version specification</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Install a gem</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: gem
  description: "Install bundler gem"
  name: bundler
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "gem",
  "description": "Install bundler gem",
  "name": "bundler",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "gem"
description = "Install bundler gem"
name = "bundler"
state = "present"
</code></pre>
<p><strong>Install gem with specific version</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: gem
  description: "Install Rails 7.0"
  name: rails
  state: present
  version: "7.0.0"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "gem",
  "description": "Install Rails 7.0",
  "name": "rails",
  "state": "present",
  "version": "7.0.0"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "gem"
description = "Install Rails 7.0"
name = "rails"
state = "present"
version = "7.0.0"
</code></pre>
<p><strong>Install gem for specific user</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: gem
  description: "Install jekyll for user"
  name: jekyll
  state: present
  user_install: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "gem",
  "description": "Install jekyll for user",
  "name": "jekyll",
  "state": "present",
  "user_install": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "gem"
description = "Install jekyll for user"
name = "jekyll"
state = "present"
user_install = true
</code></pre>
<p><strong>Remove a gem</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: gem
  description: "Remove bundler gem"
  name: bundler
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "gem",
  "description": "Remove bundler gem",
  "name": "bundler",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "gem"
description = "Remove bundler gem"
name = "bundler"
state = "absent"
</code></pre>
<h4 id="npm"><a class="header" href="#npm">npm</a></h4>
<p><strong>Description</strong>: Node.js package management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>executable</code> (String):
NPM executable path</p>
</li>
<li>
<p><code>extra_args</code> (Vec<string>):
Extra arguments</string></p>
</li>
<li>
<p><code>force</code> (bool):
Force installation</p>
</li>
<li>
<p><code>global</code> (bool):
Global installation</p>
</li>
<li>
<p><code>name</code> (String):
Package name</p>
</li>
<li>
<p><code>production</code> (bool):
Production only</p>
</li>
<li>
<p><code>state</code> (PackageState):
Package state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>registry</code> (Option<string>):
Registry URL</string></p>
</li>
<li>
<p><code>version</code> (Option<string>):
Version specification</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Install an npm package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: npm
  description: "Install express package"
  name: express
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "npm",
  "description": "Install express package",
  "name": "express",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "npm"
description = "Install express package"
name = "express"
state = "present"
</code></pre>
<p><strong>Install package globally</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: npm
  description: "Install PM2 globally"
  name: pm2
  state: present
  global: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "npm",
  "description": "Install PM2 globally",
  "name": "pm2",
  "state": "present",
  "global": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "npm"
description = "Install PM2 globally"
name = "pm2"
state = "present"
global = true
</code></pre>
<p><strong>Install specific version</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: npm
  description: "Install React 18"
  name: react
  state: present
  version: "18.2.0"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "npm",
  "description": "Install React 18",
  "name": "react",
  "state": "present",
  "version": "18.2.0"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "npm"
description = "Install React 18"
name = "react"
state = "present"
version = "18.2.0"
</code></pre>
<p><strong>Remove an npm package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: npm
  description: "Remove express package"
  name: express
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "npm",
  "description": "Remove express package",
  "name": "express",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "npm"
description = "Remove express package"
name = "express"
state = "absent"
</code></pre>
<h4 id="package"><a class="header" href="#package">package</a></h4>
<p><strong>Description</strong>: Package management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>name</code> (String):
Package name</p>
</li>
<li>
<p><code>state</code> (PackageState):
Package state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>manager</code> (Option<string>):
Package manager to use (auto-detect if not specified)</string></p>
</li>
<li>
<p><code>register</code> (Option<string>):
Optional variable name to register the task result in</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Registered Outputs</strong>:</p>
<ul>
<li><code>changed</code> (bool): Whether any packages were installed or removed</li>
<li><code>packages</code> (<code>Vec&lt;String&gt;</code>): List of packages affected</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Install a package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: package
  description: "Install nginx web server"
  name: nginx
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "package",
  "description": "Install nginx web server",
  "name": "nginx",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "package"
description = "Install nginx web server"
name = "nginx"
state = "present"
</code></pre>
<p><strong>Install with specific package manager</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: package
  description: "Install curl using apt"
  name: curl
  state: present
  manager: apt
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "package",
  "description": "Install curl using apt",
  "name": "curl",
  "state": "present",
  "manager": "apt"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "package"
description = "Install curl using apt"
name = "curl"
state = "present"
manager = "apt"
</code></pre>
<p><strong>Update a package to latest version</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: package
  description: "Update vim to latest version"
  name: vim
  state: latest
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "package",
  "description": "Update vim to latest version",
  "name": "vim",
  "state": "latest"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "package"
description = "Update vim to latest version"
name = "vim"
state = "latest"
</code></pre>
<p><strong>Remove a package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: package
  description: "Remove telnet client"
  name: telnet
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "package",
  "description": "Remove telnet client",
  "name": "telnet",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "package"
description = "Remove telnet client"
name = "telnet"
state = "absent"
</code></pre>
<p><strong>Register package installation</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: package
  description: "Install git and check if changed"
  name: git
  state: present
  register: git_install
- type: debug
  msg: "Git was newly installed"
  when: "{{ git_install.changed }}"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "package",
    "description": "Install git and check if changed",
    "name": "git",
    "state": "present",
    "register": "git_install"
  },
  {
    "type": "debug",
    "msg": "Git was newly installed",
    "when": "{{ git_install.changed }}"
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "package"
description = "Install git and check if changed"
name = "git"
state = "present"
register = "git_install"
[[tasks]]
type = "debug"
msg = "Git was newly installed"
when = "{{ git_install.changed }}"
</code></pre>
<h4 id="pacman"><a class="header" href="#pacman">pacman</a></h4>
<p><strong>Description</strong>: Arch Linux package management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>force</code> (bool):
Force installation/removal</p>
</li>
<li>
<p><code>name</code> (String):
Package name</p>
</li>
<li>
<p><code>reinstall</code> (bool):
Force reinstallation</p>
</li>
<li>
<p><code>remove_config</code> (bool):
Remove configuration files</p>
</li>
<li>
<p><code>remove_dependencies</code> (bool):
Remove dependencies</p>
</li>
<li>
<p><code>state</code> (PackageState):
Package state</p>
</li>
<li>
<p><code>update_cache</code> (bool):
Update package database</p>
</li>
<li>
<p><code>upgrade</code> (bool):
Upgrade system</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Install a package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: pacman
  description: "Install vim package"
  name: vim
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "pacman",
  "description": "Install vim package",
  "name": "vim",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "pacman"
description = "Install vim package"
name = "vim"
state = "present"
</code></pre>
<p><strong>Install with cache update</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: pacman
  description: "Install nginx with cache update"
  name: nginx
  state: present
  update_cache: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "pacman",
  "description": "Install nginx with cache update",
  "name": "nginx",
  "state": "present",
  "update_cache": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "pacman"
description = "Install nginx with cache update"
name = "nginx"
state = "present"
update_cache = true
</code></pre>
<p><strong>Remove a package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: pacman
  description: "Remove vim package"
  name: vim
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "pacman",
  "description": "Remove vim package",
  "name": "vim",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "pacman"
description = "Remove vim package"
name = "vim"
state = "absent"
</code></pre>
<p><strong>Remove package with dependencies</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: pacman
  description: "Remove package with dependencies"
  name: old-package
  state: absent
  remove_dependencies: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "pacman",
  "description": "Remove package with dependencies",
  "name": "old-package",
  "state": "absent",
  "remove_dependencies": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "pacman"
description = "Remove package with dependencies"
name = "old-package"
state = "absent"
remove_dependencies = true
</code></pre>
<h4 id="pip"><a class="header" href="#pip">pip</a></h4>
<p><strong>Description</strong>: Python package management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>executable</code> (String):
Python executable path</p>
</li>
<li>
<p><code>extra_args</code> (Vec<string>):
Extra arguments</string></p>
</li>
<li>
<p><code>force</code> (bool):
Force installation</p>
</li>
<li>
<p><code>name</code> (String):
Package name</p>
</li>
<li>
<p><code>state</code> (PackageState):
Package state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>requirements</code> (Option<string>):
Requirements file</string></p>
</li>
<li>
<p><code>version</code> (Option<string>):
Version specification</string></p>
</li>
<li>
<p><code>virtualenv</code> (Option<string>):
Virtual environment path</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Install a Python package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: pip
  description: "Install requests package"
  name: requests
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "pip",
  "description": "Install requests package",
  "name": "requests",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "pip"
description = "Install requests package"
name = "requests"
state = "present"
</code></pre>
<p><strong>Install package in virtual environment</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: pip
  description: "Install Django in virtualenv"
  name: django
  state: present
  virtualenv: /opt/myapp/venv
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "pip",
  "description": "Install Django in virtualenv",
  "name": "django",
  "state": "present",
  "virtualenv": "/opt/myapp/venv"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "pip"
description = "Install Django in virtualenv"
name = "django"
state = "present"
virtualenv = "/opt/myapp/venv"
</code></pre>
<p><strong>Install specific version</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: pip
  description: "Install Flask 2.0"
  name: flask
  state: present
  version: "2.0.0"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "pip",
  "description": "Install Flask 2.0",
  "name": "flask",
  "state": "present",
  "version": "2.0.0"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "pip"
description = "Install Flask 2.0"
name = "flask"
state = "present"
version = "2.0.0"
</code></pre>
<p><strong>Remove a Python package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: pip
  description: "Remove requests package"
  name: requests
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "pip",
  "description": "Remove requests package",
  "name": "requests",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "pip"
description = "Remove requests package"
name = "requests"
state = "absent"
</code></pre>
<h4 id="yum"><a class="header" href="#yum">yum</a></h4>
<p><strong>Description</strong>: RHEL/CentOS/Fedora package management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>allow_downgrades</code> (bool):
Allow downgrades</p>
</li>
<li>
<p><code>disable_excludes</code> (bool):
Disable excludes</p>
</li>
<li>
<p><code>disable_gpg_check</code> (bool):
Disable GPG check</p>
</li>
<li>
<p><code>force</code> (bool):
Force installation</p>
</li>
<li>
<p><code>install_recommended</code> (bool):
Install recommended packages</p>
</li>
<li>
<p><code>install_suggested</code> (bool):
Install suggested packages</p>
</li>
<li>
<p><code>name</code> (String):
Package name</p>
</li>
<li>
<p><code>state</code> (PackageState):
Package state</p>
</li>
<li>
<p><code>update_cache</code> (bool):
Update package cache</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Install a package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: yum
  description: "Install nginx web server"
  name: nginx
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "yum",
  "description": "Install nginx web server",
  "name": "nginx",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "yum"
description = "Install nginx web server"
name = "nginx"
state = "present"
</code></pre>
<p><strong>Install with cache update</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: yum
  description: "Install curl with cache update"
  name: curl
  state: present
  update_cache: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "yum",
  "description": "Install curl with cache update",
  "name": "curl",
  "state": "present",
  "update_cache": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "yum"
description = "Install curl with cache update"
name = "curl"
state = "present"
update_cache = true
</code></pre>
<p><strong>Remove a package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: yum
  description: "Remove telnet package"
  name: telnet
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "yum",
  "description": "Remove telnet package",
  "name": "telnet",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "yum"
description = "Remove telnet package"
name = "telnet"
state = "absent"
</code></pre>
<h4 id="zypper"><a class="header" href="#zypper">zypper</a></h4>
<p><strong>Description</strong>: SUSE package management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>allow_downgrades</code> (bool):
Allow downgrades</p>
</li>
<li>
<p><code>allow_vendor_change</code> (bool):
Allow vendor changes</p>
</li>
<li>
<p><code>disable_gpg_check</code> (bool):
Disable GPG check</p>
</li>
<li>
<p><code>force</code> (bool):
Force installation</p>
</li>
<li>
<p><code>name</code> (String):
Package name</p>
</li>
<li>
<p><code>state</code> (PackageState):
Package state</p>
</li>
<li>
<p><code>update_cache</code> (bool):
Update package cache</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Install a package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: zypper
  description: "Install apache web server"
  name: apache2
  state: present
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "zypper",
  "description": "Install apache web server",
  "name": "apache2",
  "state": "present"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "zypper"
description = "Install apache web server"
name = "apache2"
state = "present"
</code></pre>
<p><strong>Install with cache update</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: zypper
  description: "Install vim with repository refresh"
  name: vim
  state: present
  update_cache: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "zypper",
  "description": "Install vim with repository refresh",
  "name": "vim",
  "state": "present",
  "update_cache": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "zypper"
description = "Install vim with repository refresh"
name = "vim"
state = "present"
update_cache = true
</code></pre>
<p><strong>Remove a package</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: zypper
  description: "Remove telnet package"
  name: telnet
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "zypper",
  "description": "Remove telnet package",
  "name": "telnet",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "zypper"
description = "Remove telnet package"
name = "telnet"
state = "absent"
</code></pre>
<h3 id="security--access"><a class="header" href="#security--access">Security &amp; Access</a></h3>
<h4 id="authorizedkey"><a class="header" href="#authorizedkey">authorizedkey</a></h4>
<p><strong>Description</strong>: SSH authorized key management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>create_ssh_dir</code> (bool):
Whether to create .ssh directory if it doesn’t exist</p>
</li>
<li>
<p><code>manage_dir</code> (bool):
Whether to manage SSH directory permissions</p>
</li>
<li>
<p><code>state</code> (AuthorizedKeyState):
SSH state (present/absent)</p>
</li>
<li>
<p><code>unique</code> (bool):
Whether to deduplicate keys</p>
</li>
<li>
<p><code>user</code> (String):
Target user for SSH key management</p>
</li>
<li>
<p><code>validate_key</code> (bool):
Whether to validate key format</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>comment</code> (Option<string>):
Comment to identify this key</string></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
</li>
<li>
<p><code>key</code> (Option<string>):
SSH public key content (inline)</string></p>
</li>
<li>
<p><code>key_file</code> (Option<string>):
Path to SSH public key file</string></p>
</li>
<li>
<p><code>key_options</code> (Option<string>):
Key options (comma-separated list)</string></p>
</li>
<li>
<p><code>path</code> (Option<string>):
Path to authorized_keys file (defaults to ~/.ssh/authorized_keys)</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Add SSH public key</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: authorized_key
  description: "Add SSH key for admin user"
  user: admin
  state: present
  key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7vbqajDhS... user@host"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "authorized_key",
  "description": "Add SSH key for admin user",
  "user": "admin",
  "state": "present",
  "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7vbqajDhS... user@host"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "authorized_key"
description = "Add SSH key for admin user"
user = "admin"
state = "present"
key = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7vbqajDhS... user@host"
</code></pre>
<p><strong>Add SSH key from file</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: authorized_key
  description: "Add SSH key from file"
  user: deploy
  state: present
  key_file: /tmp/id_rsa.pub
  comment: "Deployment key"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "authorized_key",
  "description": "Add SSH key from file",
  "user": "deploy",
  "state": "present",
  "key_file": "/tmp/id_rsa.pub",
  "comment": "Deployment key"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "authorized_key"
description = "Add SSH key from file"
user = "deploy"
state = "present"
key_file = "/tmp/id_rsa.pub"
comment = "Deployment key"
</code></pre>
<p><strong>Add SSH key with restrictions</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: authorized_key
  description: "Add restricted SSH key"
  user: backup
  state: present
  key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7vbqajDhS... backup@host"
  key_options: "command=\"/usr/local/bin/backup.sh\",no-port-forwarding,no-X11-forwarding,no-agent-forwarding"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "authorized_key",
  "description": "Add restricted SSH key",
  "user": "backup",
  "state": "present",
  "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7vbqajDhS... backup@host",
  "key_options": "command=\"/usr/local/bin/backup.sh\",no-port-forwarding,no-X11-forwarding,no-agent-forwarding"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "authorized_key"
description = "Add restricted SSH key"
user = "backup"
state = "present"
key = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7vbqajDhS... backup@host"
key_options = "command=\"/usr/local/bin/backup.sh\",no-port-forwarding,no-X11-forwarding,no-agent-forwarding"
</code></pre>
<p><strong>Remove SSH key</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: authorized_key
  description: "Remove SSH key"
  user: olduser
  state: absent
  key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7vbqajDhS... olduser@host"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "authorized_key",
  "description": "Remove SSH key",
  "user": "olduser",
  "state": "absent",
  "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7vbqajDhS... olduser@host"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "authorized_key"
description = "Remove SSH key"
user = "olduser"
state = "absent"
key = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC7vbqajDhS... olduser@host"
</code></pre>
<h4 id="firewalld"><a class="header" href="#firewalld">firewalld</a></h4>
<p><strong>Description</strong>: Firewalld firewall management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>check_running</code> (bool):
Whether to check if firewalld is running</p>
</li>
<li>
<p><code>permanent</code> (bool):
Whether to make changes permanent</p>
</li>
<li>
<p><code>reload</code> (bool):
Whether to reload firewall after changes</p>
</li>
<li>
<p><code>state</code> (FirewalldState):
Firewall state (present/absent)</p>
</li>
<li>
<p><code>zone</code> (String):
Zone to manage (defaults to “public”)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
</li>
<li>
<p><code>port</code> (Option<string>):
Port to manage (e.g., “8080/tcp”, “53/udp”)</string></p>
</li>
<li>
<p><code>rich_rule</code> (Option<string>):
Rich rule to manage</string></p>
</li>
<li>
<p><code>service</code> (Option<string>):
Service to manage (e.g., “http”, “ssh”)</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Allow SSH service</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: firewalld
  description: "Allow SSH access"
  state: present
  service: ssh
  zone: public
  permanent: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "firewalld",
  "description": "Allow SSH access",
  "state": "present",
  "service": "ssh",
  "zone": "public",
  "permanent": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "firewalld"
description = "Allow SSH access"
state = "present"
service = "ssh"
zone = "public"
permanent = true
</code></pre>
<p><strong>Allow custom port</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: firewalld
  description: "Allow web traffic on port 8080"
  state: present
  port: "8080/tcp"
  zone: public
  permanent: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "firewalld",
  "description": "Allow web traffic on port 8080",
  "state": "present",
  "port": "8080/tcp",
  "zone": "public",
  "permanent": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "firewalld"
description = "Allow web traffic on port 8080"
state = "present"
port = "8080/tcp"
zone = "public"
permanent = true
</code></pre>
<p><strong>Add rich rule</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: firewalld
  description: "Allow traffic from specific IP"
  state: present
  rich_rule: 'rule family="ipv4" source address="192.168.1.100" accept'
  zone: public
  permanent: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "firewalld",
  "description": "Allow traffic from specific IP",
  "state": "present",
  "rich_rule": "rule family=\"ipv4\" source address=\"192.168.1.100\" accept",
  "zone": "public",
  "permanent": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "firewalld"
description = "Allow traffic from specific IP"
state = "present"
rich_rule = 'rule family="ipv4" source address="192.168.1.100" accept'
zone = "public"
permanent = true
</code></pre>
<p><strong>Remove firewall rule</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: firewalld
  description: "Remove SSH access"
  state: absent
  service: ssh
  zone: public
  permanent: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "firewalld",
  "description": "Remove SSH access",
  "state": "absent",
  "service": "ssh",
  "zone": "public",
  "permanent": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "firewalld"
description = "Remove SSH access"
state = "absent"
service = "ssh"
zone = "public"
permanent = true
</code></pre>
<h4 id="iptables"><a class="header" href="#iptables">iptables</a></h4>
<p><strong>Description</strong>: iptables firewall management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>chain</code> (String):
Chain to manage (INPUT/OUTPUT/FORWARD/PREROUTING/POSTROUTING)</p>
</li>
<li>
<p><code>check_available</code> (bool):
Whether to check if iptables is available</p>
</li>
<li>
<p><code>extra_args</code> (Vec<string>):
Additional iptables arguments</string></p>
</li>
<li>
<p><code>ipv6</code> (bool):
IPv6 mode (use ip6tables instead of iptables)</p>
</li>
<li>
<p><code>protocol</code> (String):
Protocol (tcp/udp/icmp/all)</p>
</li>
<li>
<p><code>state</code> (IptablesState):
iptables state (present/absent)</p>
</li>
<li>
<p><code>table</code> (String):
Table to manage (filter/nat/mangle/raw/security)</p>
</li>
<li>
<p><code>target</code> (String):
Target/jump action (ACCEPT/DROP/REJECT/LOG/MASQUERADE)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
</li>
<li>
<p><code>destination</code> (Option<string>):
Destination IP/network (with optional mask)</string></p>
</li>
<li>
<p><code>dport</code> (Option<string>):
Destination port (for tcp/udp)</string></p>
</li>
<li>
<p><code>in_interface</code> (Option<string>):
Input interface</string></p>
</li>
<li>
<p><code>out_interface</code> (Option<string>):
Output interface</string></p>
</li>
<li>
<p><code>source</code> (Option<string>):
Source IP/network (with optional mask)</string></p>
</li>
<li>
<p><code>sport</code> (Option<string>):
Source port (for tcp/udp)</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Allow SSH access</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: iptables
  description: "Allow SSH access"
  state: present
  table: filter
  chain: INPUT
  protocol: tcp
  dport: "22"
  target: ACCEPT
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "iptables",
  "description": "Allow SSH access",
  "state": "present",
  "table": "filter",
  "chain": "INPUT",
  "protocol": "tcp",
  "dport": "22",
  "target": "ACCEPT"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "iptables"
description = "Allow SSH access"
state = "present"
table = "filter"
chain = "INPUT"
protocol = "tcp"
dport = "22"
target = "ACCEPT"
</code></pre>
<p><strong>Block specific IP address</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: iptables
  description: "Block specific IP address"
  state: present
  table: filter
  chain: INPUT
  source: 192.168.1.100
  target: DROP
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "iptables",
  "description": "Block specific IP address",
  "state": "present",
  "table": "filter",
  "chain": "INPUT",
  "source": "192.168.1.100",
  "target": "DROP"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "iptables"
description = "Block specific IP address"
state = "present"
table = "filter"
chain = "INPUT"
source = "192.168.1.100"
target = "DROP"
</code></pre>
<p><strong>Allow HTTP and HTTPS traffic</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: iptables
  description: "Allow web traffic"
  state: present
  table: filter
  chain: INPUT
  protocol: tcp
  dport: "80,443"
  target: ACCEPT
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "iptables",
  "description": "Allow web traffic",
  "state": "present",
  "table": "filter",
  "chain": "INPUT",
  "protocol": "tcp",
  "dport": "80,443",
  "target": "ACCEPT"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "iptables"
description = "Allow web traffic"
state = "present"
table = "filter"
chain = "INPUT"
protocol = "tcp"
dport = "80,443"
target = "ACCEPT"
</code></pre>
<p><strong>Remove iptables rule</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: iptables
  description: "Remove SSH blocking rule"
  state: absent
  table: filter
  chain: INPUT
  protocol: tcp
  dport: "22"
  target: DROP
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "iptables",
  "description": "Remove SSH blocking rule",
  "state": "absent",
  "table": "filter",
  "chain": "INPUT",
  "protocol": "tcp",
  "dport": "22",
  "target": "DROP"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "iptables"
description = "Remove SSH blocking rule"
state = "absent"
table = "filter"
chain = "INPUT"
protocol = "tcp"
dport = "22"
target = "DROP"
</code></pre>
<h4 id="selinux"><a class="header" href="#selinux">selinux</a></h4>
<p><strong>Description</strong>: SELinux policy management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>follow</code> (bool):
Whether to follow symlinks</p>
</li>
<li>
<p><code>ignore_missing</code> (bool):
Whether to ignore missing files</p>
</li>
<li>
<p><code>persistent</code> (bool):
Whether to make changes persistent</p>
</li>
<li>
<p><code>recurse</code> (bool):
Whether to recurse into directories</p>
</li>
<li>
<p><code>state</code> (SelinuxState):
SELinux state (present/absent/enforcing/permissive/disabled)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>boolean</code> (Option<string>):
SELinux boolean to manage</string></p>
</li>
<li>
<p><code>context</code> (Option<string>):
SELinux context to set</string></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
</li>
<li>
<p><code>policy</code> (Option<string>):
Policy type (targeted/mls)</string></p>
</li>
<li>
<p><code>serange</code> (Option<string>):
SELinux level/range to set</string></p>
</li>
<li>
<p><code>serole</code> (Option<string>):
SELinux role to set</string></p>
</li>
<li>
<p><code>setype</code> (Option<string>):
SELinux type to set</string></p>
</li>
<li>
<p><code>seuser</code> (Option<string>):
SELinux user to set</string></p>
</li>
<li>
<p><code>target</code> (Option<string>):
File/directory to set context on</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Enable SELinux boolean</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: selinux
  description: "Enable httpd_can_network_connect"
  state: on
  boolean: httpd_can_network_connect
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "selinux",
  "description": "Enable httpd_can_network_connect",
  "state": "on",
  "boolean": "httpd_can_network_connect"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "selinux"
description = "Enable httpd_can_network_connect"
state = "on"
boolean = "httpd_can_network_connect"
</code></pre>
<p><strong>Set file context</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: selinux
  description: "Set httpd context for web directory"
  state: context
  target: /var/www/html
  setype: httpd_sys_content_t
  recurse: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "selinux",
  "description": "Set httpd context for web directory",
  "state": "context",
  "target": "/var/www/html",
  "setype": "httpd_sys_content_t",
  "recurse": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "selinux"
description = "Set httpd context for web directory"
state = "context"
target = "/var/www/html"
setype = "httpd_sys_content_t"
recurse = true
</code></pre>
<p><strong>Set SELinux to enforcing mode</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: selinux
  description: "Set SELinux to enforcing mode"
  state: enforcing
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "selinux",
  "description": "Set SELinux to enforcing mode",
  "state": "enforcing"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "selinux"
description = "Set SELinux to enforcing mode"
state = "enforcing"
</code></pre>
<p><strong>Restore file contexts</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: selinux
  description: "Restore SELinux contexts"
  state: restorecon
  target: /etc/httpd
  recurse: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "selinux",
  "description": "Restore SELinux contexts",
  "state": "restorecon",
  "target": "/etc/httpd",
  "recurse": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "selinux"
description = "Restore SELinux contexts"
state = "restorecon"
target = "/etc/httpd"
recurse = true
</code></pre>
<h4 id="sudoers"><a class="header" href="#sudoers">sudoers</a></h4>
<p><strong>Description</strong>: Sudoers configuration management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>backup</code> (bool):
Backup file before modification</p>
</li>
<li>
<p><code>commands</code> (Vec<string>):
Commands to allow (defaults to ALL)</string></p>
</li>
<li>
<p><code>group</code> (bool):
Whether this is a group (prefix with %)</p>
</li>
<li>
<p><code>hosts</code> (Vec<string>):
Hosts to allow (defaults to ALL)</string></p>
</li>
<li>
<p><code>name</code> (String):
User or group to grant sudo privileges</p>
</li>
<li>
<p><code>noexec</code> (bool):
NOEXEC option (prevent shell escapes)</p>
</li>
<li>
<p><code>nopasswd</code> (bool):
NOPASSWD option (don’t require password)</p>
</li>
<li>
<p><code>setenv</code> (bool):
SETENV option (allow environment variable setting)</p>
</li>
<li>
<p><code>state</code> (SudoersState):
Sudoers state (present/absent)</p>
</li>
<li>
<p><code>validate</code> (bool):
Whether to validate sudoers syntax after changes</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
</li>
<li>
<p><code>path</code> (Option<string>):
Path to sudoers file (defaults to /etc/sudoers)</string></p>
</li>
<li>
<p><code>runas</code> (Option<string>):
Run as user (defaults to ALL)</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Grant sudo access to user</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: sudoers
  description: "Grant sudo access to admin user"
  state: present
  name: admin
  commands: ["ALL"]
  hosts: ["ALL"]
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "sudoers",
  "description": "Grant sudo access to admin user",
  "state": "present",
  "name": "admin",
  "commands": ["ALL"],
  "hosts": ["ALL"]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "sudoers"
description = "Grant sudo access to admin user"
state = "present"
name = "admin"
commands = ["ALL"]
hosts = ["ALL"]
</code></pre>
<p><strong>Grant sudo access to group</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: sudoers
  description: "Grant sudo access to wheel group"
  state: present
  name: wheel
  group: true
  commands: ["ALL"]
  hosts: ["ALL"]
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "sudoers",
  "description": "Grant sudo access to wheel group",
  "state": "present",
  "name": "wheel",
  "group": true,
  "commands": ["ALL"],
  "hosts": ["ALL"]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "sudoers"
description = "Grant sudo access to wheel group"
state = "present"
name = "wheel"
group = true
commands = ["ALL"]
hosts = ["ALL"]
</code></pre>
<p><strong>Grant passwordless sudo for specific commands</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: sudoers
  description: "Grant passwordless sudo for service management"
  state: present
  name: deploy
  commands: ["/usr/bin/systemctl", "/usr/bin/service"]
  hosts: ["ALL"]
  nopasswd: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "sudoers",
  "description": "Grant passwordless sudo for service management",
  "state": "present",
  "name": "deploy",
  "commands": ["/usr/bin/systemctl", "/usr/bin/service"],
  "hosts": ["ALL"],
  "nopasswd": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "sudoers"
description = "Grant passwordless sudo for service management"
state = "present"
name = "deploy"
commands = ["/usr/bin/systemctl", "/usr/bin/service"]
hosts = ["ALL"]
nopasswd = true
</code></pre>
<p><strong>Remove sudo privileges</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: sudoers
  description: "Remove sudo access from user"
  state: absent
  name: olduser
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "sudoers",
  "description": "Remove sudo access from user",
  "state": "absent",
  "name": "olduser"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "sudoers"
description = "Remove sudo access from user"
state = "absent"
name = "olduser"
</code></pre>
<h4 id="ufw"><a class="header" href="#ufw">ufw</a></h4>
<p><strong>Description</strong>: UFW firewall management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li><code>state</code> (UfwState):
UFW state</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>default</code> (Option<string>):
Default policy for chains</string></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
</li>
<li>
<p><code>direction</code> (Option<string>):
Direction (in/out)</string></p>
</li>
<li>
<p><code>from</code> (Option<string>):
Source IP/network (for from parameter)</string></p>
</li>
<li>
<p><code>interface</code> (Option<string>):
Interface to apply rule to</string></p>
</li>
<li>
<p><code>logging</code> (Option<string>):
Logging level</string></p>
</li>
<li>
<p><code>port</code> (Option<string>):
Port to manage (e.g., “80”, “443/tcp”, “53/udp”)</string></p>
</li>
<li>
<p><code>proto</code> (Option<string>):
Protocol (tcp/udp)</string></p>
</li>
<li>
<p><code>rule</code> (Option<string>):
Rule to manage</string></p>
</li>
<li>
<p><code>to</code> (Option<string>):
Destination IP/network (for to parameter)</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Enable UFW firewall</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: ufw
  description: "Enable UFW firewall"
  state: enabled
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "ufw",
  "description": "Enable UFW firewall",
  "state": "enabled"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "ufw"
description = "Enable UFW firewall"
state = "enabled"
</code></pre>
<p><strong>Allow SSH access</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: ufw
  description: "Allow SSH access"
  state: allow
  port: "22"
  proto: tcp
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "ufw",
  "description": "Allow SSH access",
  "state": "allow",
  "port": "22",
  "proto": "tcp"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "ufw"
description = "Allow SSH access"
state = "allow"
port = "22"
proto = "tcp"
</code></pre>
<p><strong>Allow HTTP and HTTPS</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: ufw
  description: "Allow web traffic"
  state: allow
  port: "80,443"
  proto: tcp
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "ufw",
  "description": "Allow web traffic",
  "state": "allow",
  "port": "80,443",
  "proto": "tcp"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "ufw"
description = "Allow web traffic"
state = "allow"
port = "80,443"
proto = "tcp"
</code></pre>
<p><strong>Deny specific IP address</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: ufw
  description: "Block specific IP address"
  state: deny
  from: 192.168.1.100
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "ufw",
  "description": "Block specific IP address",
  "state": "deny",
  "from": "192.168.1.100"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "ufw"
description = "Block specific IP address"
state = "deny"
from = "192.168.1.100"
</code></pre>
<h3 id="source-control"><a class="header" href="#source-control">Source Control</a></h3>
<h4 id="git"><a class="header" href="#git">git</a></h4>
<p><strong>Description</strong>: Git repository management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>accept_hostkey</code> (bool):
Accept host key</p>
<p>Will ensure or not that -o StrictHostKeyChecking=no is present as an ssh option.</p>
</li>
<li>
<p><code>clone</code> (bool):
Whether to clone if repository doesn’t exist</p>
<p>If false, do not clone the repository even if it does not exist locally.</p>
</li>
<li>
<p><code>dest</code> (String):
Destination directory</p>
<p>The path of where the repository should be checked out.</p>
</li>
<li>
<p><code>force</code> (bool):
Whether to force checkout</p>
<p>If true, any modified files in the working repository will be discarded.</p>
</li>
<li>
<p><code>recursive</code> (bool):
Whether to clone recursively (include submodules)</p>
<p>If false, repository will be cloned without the –recursive option.</p>
</li>
<li>
<p><code>remote</code> (String):
Remote name</p>
<p>Name of the remote.</p>
</li>
<li>
<p><code>repo</code> (String):
Git repository URL</p>
<p>The git, SSH, or HTTP(S) protocol address of the git repository.</p>
</li>
<li>
<p><code>update</code> (bool):
Whether to update the repository</p>
<p>If false, do not retrieve new revisions from the origin repository.</p>
</li>
<li>
<p><code>version</code> (String):
Version to check out</p>
<p>What version of the repository to check out. This can be the literal string HEAD,
a branch name, a tag name, or a SHA-1 hash.</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>depth</code> (Option<usize>):
Depth for shallow clone</usize></p>
<p>Create a shallow clone with a history truncated to the specified number of revisions.</p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>key_file</code> (Option<string>):
SSH key file</string></p>
<p>Specify an optional private key file path to use for the checkout.</p>
</li>
<li>
<p><code>register</code> (Option<string>):
Optional variable name to register the task result in</string></p>
</li>
<li>
<p><code>ssh_opts</code> (Option<string>):
SSH options</string></p>
<p>Options git will pass to ssh when used as protocol.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Registered Outputs</strong>:</p>
<ul>
<li><code>after</code> (String): The SHA-1 hash after the task has run</li>
<li><code>before</code> (String): The SHA-1 hash before the task has run</li>
<li><code>changed</code> (bool): Whether the repository was updated or cloned</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Clone a repository</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: git
  description: "Clone application repository"
  repo: https://github.com/user/myapp.git
  dest: /opt/myapp
  version: main
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "git",
  "description": "Clone application repository",
  "repo": "https://github.com/user/myapp.git",
  "dest": "/opt/myapp",
  "version": "main"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "git"
description = "Clone application repository"
repo = "https://github.com/user/myapp.git"
dest = "/opt/myapp"
version = "main"
</code></pre>
<p><strong>Clone specific branch</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: git
  description: "Clone development branch"
  repo: https://github.com/user/myapp.git
  dest: /opt/myapp-dev
  version: develop
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "git",
  "description": "Clone development branch",
  "repo": "https://github.com/user/myapp.git",
  "dest": "/opt/myapp-dev",
  "version": "develop"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "git"
description = "Clone development branch"
repo = "https://github.com/user/myapp.git"
dest = "/opt/myapp-dev"
version = "develop"
</code></pre>
<p><strong>Clone with submodules</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: git
  description: "Clone repository with submodules"
  repo: https://github.com/user/myapp.git
  dest: /opt/myapp
  recursive: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "git",
  "description": "Clone repository with submodules",
  "repo": "https://github.com/user/myapp.git",
  "dest": "/opt/myapp",
  "recursive": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "git"
description = "Clone repository with submodules"
repo = "https://github.com/user/myapp.git"
dest = "/opt/myapp"
recursive = true
</code></pre>
<p><strong>Clone specific commit</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: git
  description: "Clone specific commit"
  repo: https://github.com/user/myapp.git
  dest: /opt/myapp
  version: abc123def456
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "git",
  "description": "Clone specific commit",
  "repo": "https://github.com/user/myapp.git",
  "dest": "/opt/myapp",
  "version": "abc123def456"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "git"
description = "Clone specific commit"
repo = "https://github.com/user/myapp.git"
dest = "/opt/myapp"
version = "abc123def456"
</code></pre>
<p><strong>Register repository state</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: git
  description: "Clone rust source"
  repo: https://github.com/rust-lang/rust.git
  dest: /opt/rust
  register: rust_repo
- type: debug
  msg: "Rust repo is at {{ rust_repo.after }}"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "git",
    "description": "Clone rust source",
    "repo": "https://github.com/rust-lang/rust.git",
    "dest": "/opt/rust",
    "register": "rust_repo"
  },
  {
    "type": "debug",
    "msg": "Rust repo is at {{ rust_repo.after }}"
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "git"
description = "Clone rust source"
repo = "https://github.com/rust-lang/rust.git"
dest = "/opt/rust"
register = "rust_repo"
[[tasks]]
type = "debug"
msg = "Rust repo is at {{ rust_repo.after }}"
</code></pre>
<h3 id="system-administration"><a class="header" href="#system-administration">System Administration</a></h3>
<h4 id="cron"><a class="header" href="#cron">cron</a></h4>
<p><strong>Description</strong>: Cron job management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>day</code> (String):
Day of month (1-31, or * for any)</p>
</li>
<li>
<p><code>hour</code> (String):
Hour (0-23, or * for any)</p>
</li>
<li>
<p><code>job</code> (String):
Command to execute</p>
</li>
<li>
<p><code>minute</code> (String):
Minute (0-59, or * for any)</p>
</li>
<li>
<p><code>month</code> (String):
Month (1-12, or * for any)</p>
</li>
<li>
<p><code>name</code> (String):
Unique name for this cron job</p>
</li>
<li>
<p><code>state</code> (CronState):
Cron job state</p>
</li>
<li>
<p><code>user</code> (String):
User to run the job as</p>
</li>
<li>
<p><code>weekday</code> (String):
Day of week (0-7, or * for any)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>comment</code> (Option<string>):
Optional comment/description</string></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Create a cron job</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: cron
  description: "Create daily backup cron job"
  name: daily-backup
  state: present
  user: root
  minute: "0"
  hour: "2"
  day: "*"
  month: "*"
  weekday: "*"
  job: "/usr/local/bin/backup.sh"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "cron",
  "description": "Create daily backup cron job",
  "name": "daily-backup",
  "state": "present",
  "user": "root",
  "minute": "0",
  "hour": "2",
  "day": "*",
  "month": "*",
  "weekday": "*",
  "job": "/usr/local/bin/backup.sh"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "cron"
description = "Create daily backup cron job"
name = "daily-backup"
state = "present"
user = "root"
minute = "0"
hour = "2"
day = "*"
month = "*"
weekday = "*"
job = "/usr/local/bin/backup.sh"
</code></pre>
<p><strong>Create cron job with specific schedule</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: cron
  description: "Weekly maintenance on Mondays"
  name: weekly-maintenance
  state: present
  user: root
  minute: "0"
  hour: "9"
  day: "*"
  month: "*"
  weekday: "1"
  job: "/usr/local/bin/maintenance.sh"
  comment: "Weekly system maintenance"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "cron",
  "description": "Weekly maintenance on Mondays",
  "name": "weekly-maintenance",
  "state": "present",
  "user": "root",
  "minute": "0",
  "hour": "9",
  "day": "*",
  "month": "*",
  "weekday": "1",
  "job": "/usr/local/bin/maintenance.sh",
  "comment": "Weekly system maintenance"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "cron"
description = "Weekly maintenance on Mondays"
name = "weekly-maintenance"
state = "present"
user = "root"
minute = "0"
hour = "9"
day = "*"
month = "*"
weekday = "1"
job = "/usr/local/bin/maintenance.sh"
comment = "Weekly system maintenance"
</code></pre>
<p><strong>Remove a cron job</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: cron
  description: "Remove daily backup cron job"
  name: daily-backup
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "cron",
  "description": "Remove daily backup cron job",
  "name": "daily-backup",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "cron"
description = "Remove daily backup cron job"
name = "daily-backup"
state = "absent"
</code></pre>
<p><strong>Cron job with complex schedule</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: cron
  description: "Monitor service every 15 minutes during business hours"
  name: service-monitor
  state: present
  user: monitor
  minute: "*/15"
  hour: "9-17"
  day: "1-5"
  month: "*"
  weekday: "*"
  job: "/usr/local/bin/check-service.sh"
  comment: "Business hours service monitoring"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "cron",
  "description": "Monitor service every 15 minutes during business hours",
  "name": "service-monitor",
  "state": "present",
  "user": "monitor",
  "minute": "*/15",
  "hour": "9-17",
  "day": "1-5",
  "month": "*",
  "weekday": "*",
  "job": "/usr/local/bin/check-service.sh",
  "comment": "Business hours service monitoring"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "cron"
description = "Monitor service every 15 minutes during business hours"
name = "service-monitor"
state = "present"
user = "monitor"
minute = "*/15"
hour = "9-17"
day = "1-5"
month = "*"
weekday = "*"
job = "/usr/local/bin/check-service.sh"
comment = "Business hours service monitoring"
</code></pre>
<h4 id="filesystem"><a class="header" href="#filesystem">filesystem</a></h4>
<p><strong>Description</strong>: Filesystem creation/deletion task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>dev</code> (String):
Device path</p>
</li>
<li>
<p><code>force</code> (bool):
Force filesystem creation (dangerous!)</p>
</li>
<li>
<p><code>opts</code> (Vec<string>):
Additional mkfs options</string></p>
</li>
<li>
<p><code>state</code> (FilesystemState):
Filesystem state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>fstype</code> (Option<string>):
Filesystem type (ext4, xfs, btrfs, etc.)</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Create an ext4 filesystem</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: filesystem
  description: "Create ext4 filesystem"
  dev: /dev/sdb1
  state: present
  fstype: ext4
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "filesystem",
  "description": "Create ext4 filesystem",
  "dev": "/dev/sdb1",
  "state": "present",
  "fstype": "ext4"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "filesystem"
description = "Create ext4 filesystem"
dev = "/dev/sdb1"
state = "present"
fstype = "ext4"
</code></pre>
<p><strong>Create an XFS filesystem</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: filesystem
  description: "Create XFS filesystem"
  dev: /dev/sdc1
  state: present
  fstype: xfs
  opts: ["-f", "-i", "size=512"]
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "filesystem",
  "description": "Create XFS filesystem",
  "dev": "/dev/sdc1",
  "state": "present",
  "fstype": "xfs",
  "opts": ["-f", "-i", "size=512"]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "filesystem"
description = "Create XFS filesystem"
dev = "/dev/sdc1"
state = "present"
fstype = "xfs"
opts = ["-f", "-i", "size=512"]
</code></pre>
<p><strong>Create a Btrfs filesystem</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: filesystem
  description: "Create Btrfs filesystem"
  dev: /dev/sdd1
  state: present
  fstype: btrfs
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "filesystem",
  "description": "Create Btrfs filesystem",
  "dev": "/dev/sdd1",
  "state": "present",
  "fstype": "btrfs"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "filesystem"
description = "Create Btrfs filesystem"
dev = "/dev/sdd1"
state = "present"
fstype = "btrfs"
</code></pre>
<p><strong>Force create filesystem</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: filesystem
  description: "Force create ext4 filesystem"
  dev: /dev/sde1
  state: present
  fstype: ext4
  force: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "filesystem",
  "description": "Force create ext4 filesystem",
  "dev": "/dev/sde1",
  "state": "present",
  "fstype": "ext4",
  "force": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "filesystem"
description = "Force create ext4 filesystem"
dev = "/dev/sde1"
state = "present"
fstype = "ext4"
force = true
</code></pre>
<h4 id="group"><a class="header" href="#group">group</a></h4>
<p><strong>Description</strong>: Group management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>name</code> (String):
Group name</p>
</li>
<li>
<p><code>state</code> (GroupState):
Group state</p>
</li>
<li>
<p><code>system</code> (bool):
Whether group is a system group</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>gid</code> (Option<u32>):
Group ID</u32></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Create a group</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: group
  description: "Create a web application group"
  name: webapp
  state: present
  gid: 1001
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "group",
  "description": "Create a web application group",
  "name": "webapp",
  "state": "present",
  "gid": 1001
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "group"
description = "Create a web application group"
name = "webapp"
state = "present"
gid = 1001
</code></pre>
<p><strong>Create a system group</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: group
  description: "Create a system group for nginx"
  name: nginx
  state: present
  system: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "group",
  "description": "Create a system group for nginx",
  "name": "nginx",
  "state": "present",
  "system": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "group"
description = "Create a system group for nginx"
name = "nginx"
state = "present"
system = true
</code></pre>
<p><strong>Remove a group</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: group
  description: "Remove the old group"
  name: oldgroup
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "group",
  "description": "Remove the old group",
  "name": "oldgroup",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "group"
description = "Remove the old group"
name = "oldgroup"
state = "absent"
</code></pre>
<h4 id="hostname"><a class="header" href="#hostname">hostname</a></h4>
<p><strong>Description</strong>: System hostname management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>name</code> (String):
Desired hostname</p>
</li>
<li>
<p><code>persist</code> (bool):
Whether to persist hostname to /etc/hostname</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Set system hostname</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: hostname
  description: "Set system hostname"
  name: web-server-01
  persist: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "hostname",
  "description": "Set system hostname",
  "name": "web-server-01",
  "persist": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "hostname"
description = "Set system hostname"
name = "web-server-01"
persist = true
</code></pre>
<p><strong>Set hostname temporarily</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: hostname
  description: "Set temporary hostname"
  name: temp-server
  persist: false
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "hostname",
  "description": "Set temporary hostname",
  "name": "temp-server",
  "persist": false
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "hostname"
description = "Set temporary hostname"
name = "temp-server"
persist = false
</code></pre>
<p><strong>Set hostname with domain</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: hostname
  description: "Set fully qualified hostname"
  name: app.example.com
  persist: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "hostname",
  "description": "Set fully qualified hostname",
  "name": "app.example.com",
  "persist": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "hostname"
description = "Set fully qualified hostname"
name = "app.example.com"
persist = true
</code></pre>
<h4 id="mount"><a class="header" href="#mount">mount</a></h4>
<p><strong>Description</strong>: Filesystem mounting task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>fstab</code> (bool):
Whether to update /etc/fstab</p>
</li>
<li>
<p><code>opts</code> (Vec<string>):
Mount options</string></p>
</li>
<li>
<p><code>path</code> (String):
Mount point path</p>
</li>
<li>
<p><code>recursive</code> (bool):
Whether to mount recursively</p>
</li>
<li>
<p><code>src</code> (String):
Device to mount (device path, UUID, LABEL, etc.)</p>
</li>
<li>
<p><code>state</code> (MountState):
Mount state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>fstype</code> (Option<string>):
Filesystem type</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Mount a filesystem</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: mount
  description: "Mount data partition"
  path: /mnt/data
  state: mounted
  src: /dev/sdb1
  fstype: ext4
  opts: ["defaults"]
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "mount",
  "description": "Mount data partition",
  "path": "/mnt/data",
  "state": "mounted",
  "src": "/dev/sdb1",
  "fstype": "ext4",
  "opts": ["defaults"]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "mount"
description = "Mount data partition"
path = "/mnt/data"
state = "mounted"
src = "/dev/sdb1"
fstype = "ext4"
opts = ["defaults"]
</code></pre>
<p><strong>Mount with fstab entry</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: mount
  description: "Mount NFS share with fstab entry"
  path: /mnt/nfs
  state: present
  src: 192.168.1.100:/export/data
  fstype: nfs
  opts: ["defaults", "vers=4"]
  fstab: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "mount",
  "description": "Mount NFS share with fstab entry",
  "path": "/mnt/nfs",
  "state": "present",
  "src": "192.168.1.100:/export/data",
  "fstype": "nfs",
  "opts": ["defaults", "vers=4"],
  "fstab": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "mount"
description = "Mount NFS share with fstab entry"
path = "/mnt/nfs"
state = "present"
src = "192.168.1.100:/export/data"
fstype = "nfs"
opts = ["defaults", "vers=4"]
fstab = true
</code></pre>
<p><strong>Unmount a filesystem</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: mount
  description: "Unmount temporary mount"
  path: /mnt/temp
  state: unmounted
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "mount",
  "description": "Unmount temporary mount",
  "path": "/mnt/temp",
  "state": "unmounted"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "mount"
description = "Unmount temporary mount"
path = "/mnt/temp"
state = "unmounted"
</code></pre>
<p><strong>Remove fstab entry</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: mount
  description: "Remove fstab entry"
  path: /mnt/old
  state: absent
  fstab: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "mount",
  "description": "Remove fstab entry",
  "path": "/mnt/old",
  "state": "absent",
  "fstab": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "mount"
description = "Remove fstab entry"
path = "/mnt/old"
state = "absent"
fstab = true
</code></pre>
<h4 id="reboot"><a class="header" href="#reboot">reboot</a></h4>
<p><strong>Description</strong>: System reboot task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>delay</code> (u32):
Delay before reboot (seconds)</p>
</li>
<li>
<p><code>force</code> (bool):
Whether to force reboot (don’t wait for clean shutdown)</p>
</li>
<li>
<p><code>test</code> (bool):
Test mode (don’t actually reboot)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>msg</code> (Option<string>):
Message to display before reboot</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Reboot system with delay</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: reboot
  description: "Reboot system after kernel update"
  delay: 60
  msg: "System will reboot in 60 seconds for kernel update"
  force: false
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "reboot",
  "description": "Reboot system after kernel update",
  "delay": 60,
  "msg": "System will reboot in 60 seconds for kernel update",
  "force": false
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "reboot"
description = "Reboot system after kernel update"
delay = 60
msg = "System will reboot in 60 seconds for kernel update"
force = false
</code></pre>
<p><strong>Immediate reboot</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: reboot
  description: "Immediate system reboot"
  delay: 0
  force: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "reboot",
  "description": "Immediate system reboot",
  "delay": 0,
  "force": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "reboot"
description = "Immediate system reboot"
delay = 0
force = true
</code></pre>
<p><strong>Test reboot (dry run)</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: reboot
  description: "Test reboot configuration"
  delay: 30
  msg: "This is a test reboot - system will not actually reboot"
  force: false
  test: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "reboot",
  "description": "Test reboot configuration",
  "delay": 30,
  "msg": "This is a test reboot - system will not actually reboot",
  "force": false,
  "test": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "reboot"
description = "Test reboot configuration"
delay = 30
msg = "This is a test reboot - system will not actually reboot"
force = false
test = true
</code></pre>
<h4 id="service"><a class="header" href="#service">service</a></h4>
<p><strong>Description</strong>: Service management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>name</code> (String):
Service name</p>
</li>
<li>
<p><code>state</code> (ServiceState):
Service state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>enabled</code> (Option<bool>):
Whether to enable service at boot</bool></p>
</li>
<li>
<p><code>manager</code> (Option<string>):
Service manager to use (auto-detect if not specified)</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Start and enable a service</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: service
  description: "Start and enable nginx service"
  name: nginx
  state: started
  enabled: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "service",
  "description": "Start and enable nginx service",
  "name": "nginx",
  "state": "started",
  "enabled": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "service"
description = "Start and enable nginx service"
name = "nginx"
state = "started"
enabled = true
</code></pre>
<h4 id="shutdown"><a class="header" href="#shutdown">shutdown</a></h4>
<p><strong>Description</strong>: System shutdown task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>delay</code> (u32):
Delay before shutdown (seconds)</p>
</li>
<li>
<p><code>force</code> (bool):
Whether to force shutdown (don’t wait for clean shutdown)</p>
</li>
<li>
<p><code>test</code> (bool):
Test mode (don’t actually shutdown)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>msg</code> (Option<string>):
Message to display before shutdown</string></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Shutdown system with delay</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: shutdown
  description: "Shutdown system for maintenance"
  delay: 30
  msg: "System will shutdown in 30 seconds for maintenance"
  force: false
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "shutdown",
  "description": "Shutdown system for maintenance",
  "delay": 30,
  "msg": "System will shutdown in 30 seconds for maintenance",
  "force": false
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "shutdown"
description = "Shutdown system for maintenance"
delay = 30
msg = "System will shutdown in 30 seconds for maintenance"
force = false
</code></pre>
<p><strong>Immediate shutdown</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: shutdown
  description: "Immediate system shutdown"
  delay: 0
  force: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "shutdown",
  "description": "Immediate system shutdown",
  "delay": 0,
  "force": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "shutdown"
description = "Immediate system shutdown"
delay = 0
force = true
</code></pre>
<p><strong>Test shutdown (dry run)</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: shutdown
  description: "Test shutdown configuration"
  delay: 60
  msg: "This is a test shutdown - system will not actually shutdown"
  force: false
  test: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "shutdown",
  "description": "Test shutdown configuration",
  "delay": 60,
  "msg": "This is a test shutdown - system will not actually shutdown",
  "force": false,
  "test": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "shutdown"
description = "Test shutdown configuration"
delay = 60
msg = "This is a test shutdown - system will not actually shutdown"
force = false
test = true
</code></pre>
<h4 id="sysctl"><a class="header" href="#sysctl">sysctl</a></h4>
<p><strong>Description</strong>: Kernel parameter management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>name</code> (String):
Parameter name (e.g., “net.ipv4.ip_forward”)</p>
</li>
<li>
<p><code>persist</code> (bool):
Whether to persist changes to /etc/sysctl.conf</p>
</li>
<li>
<p><code>reload</code> (bool):
Whether to reload immediately</p>
</li>
<li>
<p><code>state</code> (SysctlState):
Parameter state</p>
</li>
<li>
<p><code>value</code> (String):
Parameter value</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Set kernel parameter</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: sysctl
  description: "Enable IP forwarding"
  name: net.ipv4.ip_forward
  state: present
  value: "1"
  persist: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "sysctl",
  "description": "Enable IP forwarding",
  "name": "net.ipv4.ip_forward",
  "state": "present",
  "value": "1",
  "persist": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "sysctl"
description = "Enable IP forwarding"
name = "net.ipv4.ip_forward"
state = "present"
value = "1"
persist = true
</code></pre>
<p><strong>Configure network buffer sizes</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: sysctl
  description: "Increase network buffer sizes"
  name: net.core.rmem_max
  state: present
  value: "16777216"
  persist: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "sysctl",
  "description": "Increase network buffer sizes",
  "name": "net.core.rmem_max",
  "state": "present",
  "value": "16777216",
  "persist": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "sysctl"
description = "Increase network buffer sizes"
name = "net.core.rmem_max"
state = "present"
value = "16777216"
persist = true
</code></pre>
<p><strong>Disable IPv6</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: sysctl
  description: "Disable IPv6"
  name: net.ipv6.conf.all.disable_ipv6
  state: present
  value: "1"
  persist: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "sysctl",
  "description": "Disable IPv6",
  "name": "net.ipv6.conf.all.disable_ipv6",
  "state": "present",
  "value": "1",
  "persist": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "sysctl"
description = "Disable IPv6"
name = "net.ipv6.conf.all.disable_ipv6"
state = "present"
value = "1"
persist = true
</code></pre>
<p><strong>Remove sysctl parameter</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: sysctl
  description: "Remove custom sysctl parameter"
  name: net.ipv4.tcp_tw_reuse
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "sysctl",
  "description": "Remove custom sysctl parameter",
  "name": "net.ipv4.tcp_tw_reuse",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "sysctl"
description = "Remove custom sysctl parameter"
name = "net.ipv4.tcp_tw_reuse"
state = "absent"
</code></pre>
<h4 id="timezone"><a class="header" href="#timezone">timezone</a></h4>
<p><strong>Description</strong>: System timezone management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li><code>name</code> (String):
Timezone name (e.g., “America/New_York”, “UTC”)</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Set system timezone to UTC</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: timezone
  description: "Set system timezone to UTC"
  name: UTC
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "timezone",
  "description": "Set system timezone to UTC",
  "name": "UTC"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "timezone"
description = "Set system timezone to UTC"
name = "UTC"
</code></pre>
<p><strong>Set timezone to Eastern Time</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: timezone
  description: "Set timezone to Eastern Time"
  name: America/New_York
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "timezone",
  "description": "Set timezone to Eastern Time",
  "name": "America/New_York"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "timezone"
description = "Set timezone to Eastern Time"
name = "America/New_York"
</code></pre>
<p><strong>Set timezone to Pacific Time</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: timezone
  description: "Set timezone to Pacific Time"
  name: America/Los_Angeles
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "timezone",
  "description": "Set timezone to Pacific Time",
  "name": "America/Los_Angeles"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "timezone"
description = "Set timezone to Pacific Time"
name = "America/Los_Angeles"
</code></pre>
<h4 id="user"><a class="header" href="#user">user</a></h4>
<p><strong>Description</strong>: User and group management task</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>groups</code> (Vec<string>):
Additional groups</string></p>
</li>
<li>
<p><code>name</code> (String):
Username</p>
</li>
<li>
<p><code>state</code> (UserState):
User state</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>create_home</code> (Option<bool>):
Whether to create home directory</bool></p>
</li>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>gid</code> (Option<u32>):
Group ID</u32></p>
</li>
<li>
<p><code>home</code> (Option<string>):
Home directory</string></p>
</li>
<li>
<p><code>password</code> (Option<string>):
Password (hashed)</string></p>
</li>
<li>
<p><code>shell</code> (Option<string>):
Shell</string></p>
</li>
<li>
<p><code>uid</code> (Option<u32>):
User ID</u32></p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Create a user with basic settings</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: user
  description: "Create a web application user"
  name: webapp
  state: present
  uid: 1001
  gid: 1001
  home: /home/webapp
  shell: /bin/bash
  create_home: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "user",
  "description": "Create a web application user",
  "name": "webapp",
  "state": "present",
  "uid": 1001,
  "gid": 1001,
  "home": "/home/webapp",
  "shell": "/bin/bash",
  "create_home": true
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "user"
description = "Create a web application user"
name = "webapp"
state = "present"
uid = 1001
gid = 1001
home = "/home/webapp"
shell = "/bin/bash"
create_home = true
</code></pre>
<p><strong>Create a system user</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: user
  description: "Create a system user for nginx"
  name: nginx
  state: present
  uid: 33
  gid: 33
  home: /var/lib/nginx
  shell: /usr/sbin/nologin
  create_home: false
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "user",
  "description": "Create a system user for nginx",
  "name": "nginx",
  "state": "present",
  "uid": 33,
  "gid": 33,
  "home": "/var/lib/nginx",
  "shell": "/usr/sbin/nologin",
  "create_home": false
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "user"
description = "Create a system user for nginx"
name = "nginx"
state = "present"
uid = 33
gid = 33
home = "/var/lib/nginx"
shell = "/usr/sbin/nologin"
create_home = false
</code></pre>
<p><strong>Remove a user</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: user
  description: "Remove the old user account"
  name: olduser
  state: absent
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "user",
  "description": "Remove the old user account",
  "name": "olduser",
  "state": "absent"
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "user"
description = "Remove the old user account"
name = "olduser"
state = "absent"
</code></pre>
<h3 id="utilitycontrol"><a class="header" href="#utilitycontrol">Utility/Control</a></h3>
<h4 id="assert"><a class="header" href="#assert">assert</a></h4>
<p><strong>Description</strong>: Assert task for validating conditions</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>quiet</code> (bool):
Quiet mode</p>
<p>Don’t show success messages.</p>
</li>
<li>
<p><code>that</code> (String):
Condition to assert</p>
<p>Boolean expression that must evaluate to true.</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>fail_msg</code> (Option<string>):
Failure message</string></p>
<p>Message to display when assertion fails.</p>
</li>
<li>
<p><code>success_msg</code> (Option<string>):
Success message</string></p>
<p>Message to display when assertion passes.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Assert a condition</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: assert
  description: "Verify nginx is installed"
  that: "'nginx' in installed_packages"
  success_msg: "Nginx is properly installed"
  fail_msg: "Nginx installation failed"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "assert",
    "description": "Verify nginx is installed",
    "that": "'nginx' in installed_packages",
    "success_msg": "Nginx is properly installed",
    "fail_msg": "Nginx installation failed"
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "assert"
description = "Verify nginx is installed"
that = "'nginx' in installed_packages"
success_msg = "Nginx is properly installed"
fail_msg = "Nginx installation failed"
</code></pre>
<h4 id="debug"><a class="header" href="#debug">debug</a></h4>
<p><strong>Description</strong>: Debug task for displaying information</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>msg</code> (String):
Message to display</p>
<p>The message to print. Can be a string or variable reference.</p>
</li>
<li>
<p><code>verbosity</code> (DebugVerbosity):
Verbosity level</p>
<p>Control when this debug message is shown (normal/verbose).</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>var</code> (Option<string>):
Variable to debug</string></p>
<p>Variable name to display value of. Alternative to msg.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Display a debug message</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: debug
  description: "Show current configuration"
  msg: "Current web_root: {{ web_root }}"
  verbosity: normal
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "debug",
    "description": "Show current configuration",
    "msg": "Current web_root: {{ web_root }}",
    "verbosity": "normal"
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "debug"
description = "Show current configuration"
msg = "Current web_root: {{ web_root }}"
verbosity = "normal"
</code></pre>
<h4 id="fail"><a class="header" href="#fail">fail</a></h4>
<p><strong>Description</strong>: Fail task for forcing execution failure</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>msg</code> (String):
Failure message</p>
<p>Message to display when failing.</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Fail with a message</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: fail
  description: "Stop execution if requirements not met"
  msg: "System requirements not satisfied"
  when: "not requirements_met"
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "fail",
    "description": "Stop execution if requirements not met",
    "msg": "System requirements not satisfied",
    "when": "not requirements_met"
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "fail"
description = "Stop execution if requirements not met"
msg = "System requirements not satisfied"
when = "not requirements_met"
</code></pre>
<h4 id="includerole"><a class="header" href="#includerole">includerole</a></h4>
<p><strong>Description</strong>: Include role task for reusable configurations</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>defaults</code> (HashMap&lt;String, Value&gt;):
Default variables</p>
<p>Default variables for the role.</p>
</li>
<li>
<p><code>name</code> (String):
Role name</p>
<p>Name of the role to include.</p>
</li>
<li>
<p><code>vars</code> (HashMap&lt;String, Value&gt;):
Variable overrides</p>
<p>Variables to pass to the role.</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Include a role</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: include_role
  description: "Setup web server"
  name: webserver
  when: "webserver_required"
  vars:
    port: 8080
  defaults:
    document_root: /var/www/html
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "include_role",
    "description": "Setup web server",
    "name": "webserver",
    "when": "webserver_required",
    "vars": {
      "port": 8080
    },
    "defaults": {
      "document_root": "/var/www/html"
    }
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "include_role"
description = "Setup web server"
name = "webserver"
when = "webserver_required"
[tasks.vars]
port = 8080
[tasks.defaults]
document_root = "/var/www/html"
</code></pre>
<h4 id="includetasks"><a class="header" href="#includetasks">includetasks</a></h4>
<p><strong>Description</strong>: Include tasks task for modular configurations</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>file</code> (String):
File to include</p>
<p>Path to the task file to include.</p>
</li>
<li>
<p><code>vars</code> (HashMap&lt;String, Value&gt;):
Variable overrides</p>
<p>Variables to pass to the included tasks.</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Include a task file</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: include_tasks
  description: "Include common setup tasks"
  file: common/setup.yml
  when: "setup_required"
  vars:
    app_name: myapp
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "include_tasks",
    "description": "Include common setup tasks",
    "file": "common/setup.yml",
    "when": "setup_required",
    "vars": {
      "app_name": "myapp"
    }
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "include_tasks"
description = "Include common setup tasks"
file = "common/setup.yml"
when = "setup_required"
[tasks.vars]
app_name = "myapp"
</code></pre>
<h4 id="pause"><a class="header" href="#pause">pause</a></h4>
<p><strong>Description</strong>: Pause task to halt execution</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>minutes</code> (u64):
Minutes to pause</p>
<p>Duration to pause execution in minutes.</p>
</li>
<li>
<p><code>prompt</code> (String):
Message to display during pause</p>
<p>Message shown to user during pause.</p>
</li>
<li>
<p><code>seconds</code> (u64):
Seconds to pause</p>
<p>Duration to pause execution in seconds.</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Pause execution</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: pause
  description: "Wait for services to start"
  prompt: "Waiting for services to initialize..."
  seconds: 30
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "pause",
    "description": "Wait for services to start",
    "prompt": "Waiting for services to initialize...",
    "seconds": 30
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "pause"
description = "Wait for services to start"
prompt = "Waiting for services to initialize..."
seconds = 30
</code></pre>
<h4 id="setfact"><a class="header" href="#setfact">setfact</a></h4>
<p><strong>Description</strong>: Set fact task for variable management</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>cacheable</code> (bool):
Cacheable flag</p>
<p>Whether this fact can be cached between runs.</p>
</li>
<li>
<p><code>key</code> (String):
Variable name</p>
<p>Name of the fact/variable to set.</p>
</li>
<li>
<p><code>value</code> (Value):
Variable value</p>
<p>Value to assign to the variable.</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Set a fact</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: set_fact
  description: "Set application version"
  key: app_version
  value: "1.2.3"
  cacheable: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "set_fact",
    "description": "Set application version",
    "key": "app_version",
    "value": "1.2.3",
    "cacheable": true
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "set_fact"
description = "Set application version"
key = "app_version"
value = "1.2.3"
cacheable = true
</code></pre>
<h4 id="waitfor"><a class="header" href="#waitfor">waitfor</a></h4>
<p><strong>Description</strong>: Wait for task for synchronization</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>active_connection</code> (bool):
Active connection check</p>
<p>Perform active connection attempt instead of just port scan.</p>
</li>
<li>
<p><code>delay</code> (u64):
Delay between checks</p>
<p>Time to wait between connectivity checks.</p>
</li>
<li>
<p><code>state</code> (ConnectionState):
Connection state to wait for</p>
<p>Whether to wait for connection to be started or stopped.</p>
</li>
<li>
<p><code>timeout</code> (u64):
Timeout in seconds</p>
<p>Maximum time to wait for condition.</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>description</code> (Option<string>):
Optional description of what this task does</string></p>
<p>Human-readable description of the task’s purpose. Used for documentation
and can be displayed in logs or reports.</p>
</li>
<li>
<p><code>host</code> (Option<string>):
Host to wait for connectivity</string></p>
<p>Hostname or IP address to check connectivity.</p>
</li>
<li>
<p><code>path</code> (Option<string>):
Path to file to wait for</string></p>
<p>File path to wait for existence or non-existence.</p>
</li>
<li>
<p><code>port</code> (Option<u16>):
Port to check</u16></p>
<p>Port number to check for connectivity.</p>
</li>
<li>
<p><code>when</code> (Option<string>):
Optional condition to determine if the task should run</string></p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Wait for port connectivity</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">- type: wait_for
  description: "Wait for web server to start"
  host: localhost
  port: 80
  timeout: 60
  delay: 5
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">[
  {
    "type": "wait_for",
    "description": "Wait for web server to start",
    "host": "localhost",
    "port": 80,
    "timeout": 60,
    "delay": 5
  }
]
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[tasks]]
type = "wait_for"
description = "Wait for web server to start"
host = "localhost"
port = 80
timeout = 60
delay = 5
</code></pre>
<h2 id="facts-collectors-facts"><a class="header" href="#facts-collectors-facts">Facts Collectors (<code>facts</code>)</a></h2>
<p>Facts collectors gather system metrics and inventory information. Each collector corresponds to a specific type of system information or metric.</p>
<h3 id="collector-configuration"><a class="header" href="#collector-configuration">Collector Configuration</a></h3>
<p>All facts collectors support common configuration fields for controlling collection behavior:</p>
<ul>
<li><strong><code>name</code></strong>: Collector name (used for metric names)</li>
<li><strong><code>enabled</code></strong>: Whether this collector is enabled (default: true)</li>
<li><strong><code>poll_interval</code></strong>: Poll interval in seconds (how often to collect this metric)</li>
<li><strong><code>labels</code></strong>: Additional labels for this collector</li>
</ul>
<h3 id="cpu-metrics"><a class="header" href="#cpu-metrics">CPU Metrics</a></h3>
<h4 id="cpu"><a class="header" href="#cpu">cpu</a></h4>
<p><strong>Description</strong>: Collect CPU usage, frequency, temperature, and load average metrics</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>base</code> (BaseCollector):
No description available</p>
</li>
<li>
<p><code>collect</code> (CpuCollectOptions):
CPU metrics to collect</p>
</li>
<li>
<p><code>name</code> (String):
Collector name (used for metric names)</p>
</li>
<li>
<p><code>poll_interval</code> (u64):
Poll interval in seconds (how often to collect this metric)</p>
</li>
<li>
<p><code>thresholds</code> (CpuThresholds):
Thresholds for alerts</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>enabled</code> (bool):
Whether this collector is enabled (default: true)</p>
</li>
<li>
<p><code>labels</code> (HashMap&lt;String, String&gt;):
Additional labels for this collector</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Basic CPU metrics collection</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: cpu
name: cpu
poll_interval: 30
collect:
  usage: true
  per_core: true
  frequency: true
  temperature: true
  load_average: true
thresholds:
  usage_warning: 80.0
  usage_critical: 95.0
  temp_warning: 70.0
  temp_critical: 85.0
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "cpu",
  "name": "cpu",
  "poll_interval": 30,
  "collect": {
    "usage": true,
    "per_core": true,
    "frequency": true,
    "temperature": true,
    "load_average": true
  },
  "thresholds": {
    "usage_warning": 80.0,
    "usage_critical": 95.0,
    "temp_warning": 70.0,
    "temp_critical": 85.0
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "cpu"
name = "cpu"
poll_interval = 30
[collectors.collect]
usage = true
per_core = true
frequency = true
temperature = true
load_average = true
[collectors.thresholds]
usage_warning = 80.0
usage_critical = 95.0
temp_warning = 70.0
temp_critical = 85.0
</code></pre>
<p><strong>Output</strong>:</p>
<pre><code class="language-yaml"> cpu_count: 4
 usage_percent: 45.2
 usage_warning: false
 usage_critical: false
 cores:
   - core_id: 0
     usage_percent: 42.1
     frequency_mhz: 2400
   - core_id: 1
     usage_percent: 48.3
     frequency_mhz: 2400
 frequency_mhz: 2400.0
 temperature_celsius: null
 temperature_available: false
 temp_warning: false
 temp_critical: false
 load_average:
   "1m": 1.25
   "5m": 1.15
   "15m": 1.08
</code></pre>
<h3 id="command-output"><a class="header" href="#command-output">Command Output</a></h3>
<h4 id="command-1"><a class="header" href="#command-1">command</a></h4>
<p><strong>Description</strong>: Execute custom commands and collect their output as facts</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>base</code> (BaseCollector):
No description available</p>
</li>
<li>
<p><code>command</code> (String):
Command to execute</p>
</li>
<li>
<p><code>env</code> (HashMap&lt;String, String&gt;):
Environment variables</p>
</li>
<li>
<p><code>format</code> (CommandOutputFormat):
Expected output format</p>
</li>
<li>
<p><code>name</code> (String):
Collector name (used for metric names)</p>
</li>
<li>
<p><code>poll_interval</code> (u64):
Poll interval in seconds (how often to collect this metric)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>cwd</code> (Option<string>):
Working directory for command</string></p>
</li>
<li>
<p><code>enabled</code> (bool):
Whether this collector is enabled (default: true)</p>
</li>
<li>
<p><code>labels</code> (HashMap&lt;String, String&gt;):
Additional labels for this collector</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Basic command output collection</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: command
name: uptime
command: uptime -p
format: text
labels:
  category: system
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "command",
  "name": "uptime",
  "command": "uptime -p",
  "format": "text",
  "labels": {
    "category": "system"
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "command"
name = "uptime"
command = "uptime -p"
format = "text"
[collectors.labels]
category = "system"
</code></pre>
<p><strong>JSON command output parsing</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: command
name: docker_stats
command: docker stats --no-stream --format json
format: json
cwd: /tmp
env:
  DOCKER_HOST: unix:///var/run/docker.sock
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "command",
  "name": "docker_stats",
  "command": "docker stats --no-stream --format json",
  "format": "json",
  "cwd": "/tmp",
  "env": {
    "DOCKER_HOST": "unix:///var/run/docker.sock"
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "command"
name = "docker_stats"
command = "docker stats --no-stream --format json"
format = "json"
cwd = "/tmp"
[collectors.env]
DOCKER_HOST = "unix:///var/run/docker.sock"
</code></pre>
<p><strong>Output</strong>:</p>
<pre><code class="language-yaml"> command: "docker stats --no-stream --format json"
 exit_code: 0
 output:
   - container: "web_server"
     cpu_percent: "5.2"
     memory_usage: "128MiB / 1GiB"
     net_io: "1.2kB / 3.4kB"
   - container: "database"
     cpu_percent: "2.1"
     memory_usage: "256MiB / 2GiB"
     net_io: "500B / 1.2kB"
 labels:
   category: monitoring
</code></pre>
<p><strong>Key-value command output parsing</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: command
name: system_info
command: echo "hostname=$(hostname)\nos_version=$(cat /etc/os-release | grep PRETTY_NAME | cut -d'=' -f2 | tr -d '\"')\nuptime=$(uptime -p)"
format: key_value
labels:
  category: system
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "command",
  "name": "system_info",
  "command": "echo \"hostname=$(hostname)\\nos_version=$(cat /etc/os-release | grep PRETTY_NAME | cut -d'=' -f2 | tr -d '\\\"')\\nuptime=$(uptime -p)\"",
  "format": "key_value",
  "labels": {
    "category": "system"
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "command"
name = "system_info"
command = "echo \"hostname=$(hostname)\\nos_version=$(cat /etc/os-release | grep PRETTY_NAME | cut -d'=' -f2 | tr -d '\\\"')\\nuptime=$(uptime -p)\""
format = "key_value"
[collectors.labels]
category = "system"
</code></pre>
<p><strong>Output</strong>:</p>
<pre><code class="language-yaml"> command: "echo \"hostname=$(hostname)\\nos_version=$(cat /etc/os-release | grep PRETTY_NAME | cut -d'=' -f2 | tr -d '\\\"')\\nuptime=$(uptime -p)\""
 exit_code: 0
 output:
   hostname: "web-server-01"
   os_version: "Ubuntu 22.04.3 LTS"
   uptime: "up 2 weeks, 3 days, 4 hours"
 labels:
   category: system
</code></pre>
<p><strong>Text command output (default)</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: command
name: disk_usage
command: df -h /
format: text
labels:
  category: storage
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "command",
  "name": "disk_usage",
  "command": "df -h /",
  "format": "text",
  "labels": {
    "category": "storage"
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "command"
name = "disk_usage"
command = "df -h /"
format = "text"
[collectors.labels]
category = "storage"
</code></pre>
<p><strong>Output</strong>:</p>
<pre><code class="language-yaml"> command: "df -h /"
 exit_code: 0
 stdout: |
   Filesystem      Size  Used Avail Use% Mounted on
   /dev/sda1        50G   15G   33G  31% /
 labels:
   category: storage
</code></pre>
<p><strong>Command with environment variables and working directory</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: command
name: custom_script
command: ./check_service.sh
format: json
cwd: /opt/myapp
env:
  SERVICE_NAME: myapp
  LOG_LEVEL: info
labels:
  category: application
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "command",
  "name": "custom_script",
  "command": "./check_service.sh",
  "format": "json",
  "cwd": "/opt/myapp",
  "env": {
    "SERVICE_NAME": "myapp",
    "LOG_LEVEL": "info"
  },
  "labels": {
    "category": "application"
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "command"
name = "custom_script"
command = "./check_service.sh"
format = "json"
cwd = "/opt/myapp"
[collectors.env]
SERVICE_NAME = "myapp"
LOG_LEVEL = "info"
[collectors.labels]
category = "application"
</code></pre>
<p><strong>Output</strong>:</p>
<pre><code class="language-yaml"> command: "./check_service.sh"
 exit_code: 0
 output:
   service_status: "running"
   uptime_seconds: 3600
   version: "1.2.3"
   health_checks:
     - name: "database"
       status: "ok"
     - name: "cache"
       status: "ok"
 labels:
   category: application
</code></pre>
<h3 id="disk-metrics"><a class="header" href="#disk-metrics">Disk Metrics</a></h3>
<h4 id="disk"><a class="header" href="#disk">disk</a></h4>
<p><strong>Description</strong>: Collect disk space and I/O statistics for mounted filesystems</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>base</code> (BaseCollector):
No description available</p>
</li>
<li>
<p><code>collect</code> (DiskCollectOptions):
Disk metrics to collect</p>
</li>
<li>
<p><code>devices</code> (Vec<string>):
Disk devices to monitor (empty = all)</string></p>
</li>
<li>
<p><code>mount_points</code> (Vec<string>):
Mount points to monitor (empty = all)</string></p>
</li>
<li>
<p><code>name</code> (String):
Collector name (used for metric names)</p>
</li>
<li>
<p><code>poll_interval</code> (u64):
Poll interval in seconds (how often to collect this metric)</p>
</li>
<li>
<p><code>thresholds</code> (DiskThresholds):
Thresholds for alerts</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>enabled</code> (bool):
Whether this collector is enabled (default: true)</p>
</li>
<li>
<p><code>labels</code> (HashMap&lt;String, String&gt;):
Additional labels for this collector</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Basic disk metrics collection</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: disk
name: disk
devices: ["/dev/sda", "/dev/sdb"]
mount_points: ["/", "/home", "/var"]
collect:
  total: true
  used: true
  free: true
  available: true
  percentage: true
  io: true
thresholds:
  usage_warning: 80.0
  usage_critical: 90.0
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "disk",
  "name": "disk",
  "devices": ["/dev/sda", "/dev/sdb"],
  "mount_points": ["/", "/home", "/var"],
  "collect": {
    "total": true,
    "used": true,
    "free": true,
    "available": true,
    "percentage": true,
    "io": true
  },
  "thresholds": {
    "usage_warning": 80.0,
    "usage_critical": 90.0
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "disk"
name = "disk"
devices = ["/dev/sda", "/dev/sdb"]
mount_points = ["/", "/home", "/var"]
[collectors.collect]
total = true
used = true
free = true
available = true
percentage = true
io = true
[collectors.thresholds]
usage_warning = 80.0
usage_critical = 90.0
</code></pre>
<p><strong>Output</strong>:</p>
<pre><code class="language-yaml"> disks:
   - device: "/dev/sda1"
     mount_point: "/"
     is_removable: false
     total_bytes: 536870912000
     total_mb: 512000
     total_gb: 500
     used_bytes: 268435456000
     used_mb: 256000
     used_gb: 250
     free_bytes: 134217728000
     free_mb: 128000
     free_gb: 125
     available_bytes: 107374182400
     available_mb: 102400
     available_gb: 100
     usage_percent: 50
     available_percent: 20
     disk_pressure: "medium"
     usage_warning: false
     usage_critical: false
     io_supported: false
 labels:
   storage_type: ssd
</code></pre>
<h3 id="memory-metrics"><a class="header" href="#memory-metrics">Memory Metrics</a></h3>
<h4 id="memory"><a class="header" href="#memory">memory</a></h4>
<p><strong>Description</strong>: Collect memory usage statistics including total, used, free, and swap</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>base</code> (BaseCollector):
No description available</p>
</li>
<li>
<p><code>collect</code> (MemoryCollectOptions):
Memory metrics to collect</p>
</li>
<li>
<p><code>name</code> (String):
Collector name (used for metric names)</p>
</li>
<li>
<p><code>poll_interval</code> (u64):
Poll interval in seconds (how often to collect this metric)</p>
</li>
<li>
<p><code>thresholds</code> (MemoryThresholds):
Thresholds for alerts</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>enabled</code> (bool):
Whether this collector is enabled (default: true)</p>
</li>
<li>
<p><code>labels</code> (HashMap&lt;String, String&gt;):
Additional labels for this collector</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Basic memory metrics collection</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: memory
name: memory
collect:
  total: true
  used: true
  free: true
  available: true
  swap: true
  percentage: true
thresholds:
  usage_warning: 85.0
  usage_critical: 95.0
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "memory",
  "name": "memory",
  "collect": {
    "total": true,
    "used": true,
    "free": true,
    "available": true,
    "swap": true,
    "percentage": true
  },
  "thresholds": {
    "usage_warning": 85.0,
    "usage_critical": 95.0
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "memory"
name = "memory"
[collectors.collect]
total = true
used = true
free = true
available = true
swap = true
percentage = true
[collectors.thresholds]
usage_warning = 85.0
usage_critical = 95.0
</code></pre>
<p><strong>Output</strong>:</p>
<pre><code class="language-yaml"> total_bytes: 8589934592
 total_mb: 8192
 total_gb: 8
 used_bytes: 4294967296
 used_mb: 4096
 used_gb: 4
 free_bytes: 2147483648
 free_mb: 2048
 free_gb: 2
 available_bytes: 3221225472
 available_mb: 3072
 available_gb: 3
 usage_percent: 50
 available_percent: 37
 memory_pressure: "low"
 swap_total_bytes: 2147483648
 swap_used_bytes: 536870912
 swap_free_bytes: 1610612736
 swap_total_mb: 2048
 swap_used_mb: 512
 swap_free_mb: 1536
 swap_usage_percent: 25
 swap_pressure: "low"
 usage_warning: false
 usage_critical: false
</code></pre>
<h3 id="network-metrics"><a class="header" href="#network-metrics">Network Metrics</a></h3>
<h4 id="network"><a class="header" href="#network">network</a></h4>
<p><strong>Description</strong>: Collect network interface statistics and status information</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>base</code> (BaseCollector):
No description available</p>
</li>
<li>
<p><code>collect</code> (NetworkCollectOptions):
Network metrics to collect</p>
</li>
<li>
<p><code>interfaces</code> (Vec<string>):
Network interfaces to monitor (empty = all)</string></p>
</li>
<li>
<p><code>name</code> (String):
Collector name (used for metric names)</p>
</li>
<li>
<p><code>poll_interval</code> (u64):
Poll interval in seconds (how often to collect this metric)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>enabled</code> (bool):
Whether this collector is enabled (default: true)</p>
</li>
<li>
<p><code>labels</code> (HashMap&lt;String, String&gt;):
Additional labels for this collector</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Basic network metrics collection</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: network
name: network
interfaces: ["eth0", "wlan0"]
collect:
  bytes: true
  packets: true
  errors: true
  status: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "network",
  "name": "network",
  "interfaces": ["eth0", "wlan0"],
  "collect": {
    "bytes": true,
    "packets": true,
    "errors": true,
    "status": true
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "network"
name = "network"
interfaces = ["eth0", "wlan0"]
[collectors.collect]
bytes = true
packets = true
errors = true
status = true
</code></pre>
<p><strong>Output</strong>:</p>
<pre><code class="language-yaml"> interfaces:
   - name: "eth0"
     bytes_received: 1234567890
     bytes_transmitted: 987654321
     total_bytes: 2222222211
     packets_received: 1234567
     packets_transmitted: 987654
     total_packets: 2222221
     errors_on_received: 0
     errors_on_transmitted: 0
     total_errors: 0
     status: "up"
   - name: "lo"
     bytes_received: 123456789
     bytes_transmitted: 123456789
     total_bytes: 246913578
     packets_received: 123456
     packets_transmitted: 123456
     total_packets: 246912
     errors_on_received: 0
     errors_on_transmitted: 0
     total_errors: 0
     status: "up"
 labels:
   network_type: corporate
</code></pre>
<h3 id="process-metrics"><a class="header" href="#process-metrics">Process Metrics</a></h3>
<h4 id="process"><a class="header" href="#process">process</a></h4>
<p><strong>Description</strong>: Collect process information and resource usage statistics</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>base</code> (BaseCollector):
No description available</p>
</li>
<li>
<p><code>collect</code> (ProcessCollectOptions):
Process metrics to collect</p>
</li>
<li>
<p><code>name</code> (String):
Collector name (used for metric names)</p>
</li>
<li>
<p><code>patterns</code> (Vec<string>):
Process name patterns to monitor (empty = all processes)</string></p>
</li>
<li>
<p><code>poll_interval</code> (u64):
Poll interval in seconds (how often to collect this metric)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>enabled</code> (bool):
Whether this collector is enabled (default: true)</p>
</li>
<li>
<p><code>labels</code> (HashMap&lt;String, String&gt;):
Additional labels for this collector</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Basic process metrics collection</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: process
name: process
patterns: ["nginx", "apache", "sshd"]
collect:
  count: true
  cpu: true
  memory: true
  status: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "process",
  "name": "process",
  "patterns": ["nginx", "apache", "sshd"],
  "collect": {
    "count": true,
    "cpu": true,
    "memory": true,
    "status": true
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "process"
name = "process"
patterns = ["nginx", "apache", "sshd"]
[collectors.collect]
count = true
cpu = true
memory = true
status = true
</code></pre>
<p><strong>Output</strong>:</p>
<pre><code class="language-yaml"> total_processes: 150
 matched_processes: 3
 processes:
   - pid: 1234
     name: "nginx"
     cpu_percent: 5
     memory_bytes: 104857600
     memory_mb: 100
     memory_gb: 0
     status: "running"
     command: "/usr/sbin/nginx"
     parent_pid: 1
   - pid: 1235
     name: "nginx"
     cpu_percent: 3
     memory_bytes: 52428800
     memory_mb: 50
     memory_gb: 0
     status: "running"
     command: "/usr/sbin/nginx"
     parent_pid: 1234
   - pid: 5678
     name: "apache2"
     cpu_percent: 2
     memory_bytes: 209715200
     memory_mb: 200
     memory_gb: 0
     status: "sleeping"
     command: "/usr/sbin/apache2"
     parent_pid: 1
 labels:
   process_type: web_servers
</code></pre>
<h3 id="system-information"><a class="header" href="#system-information">System Information</a></h3>
<h4 id="system"><a class="header" href="#system">system</a></h4>
<p><strong>Description</strong>: Collect system information including hostname, OS, kernel, uptime, and architecture</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li>
<p><code>base</code> (BaseCollector):
No description available</p>
</li>
<li>
<p><code>collect</code> (SystemCollectOptions):
What system information to collect</p>
</li>
<li>
<p><code>name</code> (String):
Collector name (used for metric names)</p>
</li>
<li>
<p><code>poll_interval</code> (u64):
Poll interval in seconds (how often to collect this metric)</p>
</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li>
<p><code>enabled</code> (bool):
Whether this collector is enabled (default: true)</p>
</li>
<li>
<p><code>labels</code> (HashMap&lt;String, String&gt;):
Additional labels for this collector</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>Basic system information collection</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">type: system
name: system
collect:
  hostname: true
  os: true
  kernel: true
  uptime: true
  boot_time: true
  arch: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "type": "system",
  "name": "system",
  "collect": {
    "hostname": true,
    "os": true,
    "kernel": true,
    "uptime": true,
    "boot_time": true,
    "arch": true
  }
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[collectors]]
type = "system"
name = "system"
[collectors.collect]
hostname = true
os = true
kernel = true
uptime = true
boot_time = true
arch = true
</code></pre>
<p><strong>Output</strong>:</p>
<pre><code class="language-yaml"> hostname: "myhost.example.com"
 os: "linux"
 os_family: "unix"
 kernel_version: "5.15.0-91-generic"
 uptime_seconds: 1234567
 boot_time: 1706012345
 cpu_arch: "x86_64"
</code></pre>
<h2 id="log-sourcesoutputs-logs"><a class="header" href="#log-sourcesoutputs-logs">Log Sources/Outputs (<code>logs</code>)</a></h2>
<p>Log processors handle log collection and forwarding. Each processor corresponds to a specific log source or output destination.</p>
<h3 id="processor-configuration"><a class="header" href="#processor-configuration">Processor Configuration</a></h3>
<p>All log processors support common configuration fields for controlling processing behavior:</p>
<ul>
<li><strong><code>enabled</code></strong>: Whether this processor is enabled (default: true)</li>
<li><strong><code>name</code></strong>: Processor name for identification</li>
</ul>
<h3 id="log-outputs"><a class="header" href="#log-outputs">Log Outputs</a></h3>
<h4 id="console"><a class="header" href="#console">console</a></h4>
<p><strong>Description</strong>: Output logs to stdout/stderr for debugging</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li><code>name</code> (String):
Processor name for identification</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li><code>enabled</code> (bool):
Whether this processor is enabled (default: true)</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>File log output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">logs:
  - type: file
    path: /var/log/app.log
    format: json
    rotation:
      size: 10MB
      count: 5
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "logs": [
    {
      "type": "file",
      "path": "/var/log/app.log",
      "format": "json",
      "rotation": {
        "size": "10MB",
        "count": 5
      }
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[logs]]
type = "file"
path = "/var/log/app.log"
format = "json"
[logs.rotation]
size = "10MB"
count = 5
</code></pre>
<p><strong>Console log output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">logs:
  - type: console
    format: text
    level: info
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "logs": [
    {
      "type": "console",
      "format": "text",
      "level": "info"
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[logs]]
type = "console"
format = "text"
level = "info"
</code></pre>
<h4 id="file-1"><a class="header" href="#file-1">file</a></h4>
<p><strong>Description</strong>: Write logs to files with rotation and compression</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li><code>name</code> (String):
Processor name for identification</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li><code>enabled</code> (bool):
Whether this processor is enabled (default: true)</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>File log output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">logs:
  - type: file
    path: /var/log/app.log
    format: json
    rotation:
      size: 10MB
      count: 5
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "logs": [
    {
      "type": "file",
      "path": "/var/log/app.log",
      "format": "json",
      "rotation": {
        "size": "10MB",
        "count": 5
      }
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[logs]]
type = "file"
path = "/var/log/app.log"
format = "json"
[logs.rotation]
size = "10MB"
count = 5
</code></pre>
<p><strong>Console log output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">logs:
  - type: console
    format: text
    level: info
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "logs": [
    {
      "type": "console",
      "format": "text",
      "level": "info"
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[logs]]
type = "console"
format = "text"
level = "info"
</code></pre>
<h4 id="http"><a class="header" href="#http">http</a></h4>
<p><strong>Description</strong>: Send logs to HTTP endpoints with authentication and retry</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li><code>name</code> (String):
Processor name for identification</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li><code>enabled</code> (bool):
Whether this processor is enabled (default: true)</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>File log output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">logs:
  - type: file
    path: /var/log/app.log
    format: json
    rotation:
      size: 10MB
      count: 5
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "logs": [
    {
      "type": "file",
      "path": "/var/log/app.log",
      "format": "json",
      "rotation": {
        "size": "10MB",
        "count": 5
      }
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[logs]]
type = "file"
path = "/var/log/app.log"
format = "json"
[logs.rotation]
size = "10MB"
count = 5
</code></pre>
<p><strong>Console log output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">logs:
  - type: console
    format: text
    level: info
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "logs": [
    {
      "type": "console",
      "format": "text",
      "level": "info"
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[logs]]
type = "console"
format = "text"
level = "info"
</code></pre>
<h4 id="s3"><a class="header" href="#s3">s3</a></h4>
<p><strong>Description</strong>: Upload logs to S3 with batching and compression</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li><code>name</code> (String):
Processor name for identification</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li><code>enabled</code> (bool):
Whether this processor is enabled (default: true)</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>File log output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">logs:
  - type: file
    path: /var/log/app.log
    format: json
    rotation:
      size: 10MB
      count: 5
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "logs": [
    {
      "type": "file",
      "path": "/var/log/app.log",
      "format": "json",
      "rotation": {
        "size": "10MB",
        "count": 5
      }
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[logs]]
type = "file"
path = "/var/log/app.log"
format = "json"
[logs.rotation]
size = "10MB"
count = 5
</code></pre>
<p><strong>Console log output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">logs:
  - type: console
    format: text
    level: info
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "logs": [
    {
      "type": "console",
      "format": "text",
      "level": "info"
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[logs]]
type = "console"
format = "text"
level = "info"
</code></pre>
<h4 id="syslog"><a class="header" href="#syslog">syslog</a></h4>
<p><strong>Description</strong>: Send logs to syslog with RFC compliance</p>
<p><strong>Required Fields</strong>:</p>
<ul>
<li><code>name</code> (String):
Processor name for identification</li>
</ul>
<p><strong>Optional Fields</strong>:</p>
<ul>
<li><code>enabled</code> (bool):
Whether this processor is enabled (default: true)</li>
</ul>
<p><strong>Examples</strong>:</p>
<p><strong>File log output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">logs:
  - type: file
    path: /var/log/app.log
    format: json
    rotation:
      size: 10MB
      count: 5
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "logs": [
    {
      "type": "file",
      "path": "/var/log/app.log",
      "format": "json",
      "rotation": {
        "size": "10MB",
        "count": 5
      }
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[logs]]
type = "file"
path = "/var/log/app.log"
format = "json"
[logs.rotation]
size = "10MB"
count = 5
</code></pre>
<p><strong>Console log output</strong>:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">logs:
  - type: console
    format: text
    level: info
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "logs": [
    {
      "type": "console",
      "format": "text",
      "level": "info"
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[[logs]]
type = "console"
format = "text"
level = "info"
</code></pre>
<h2 id="comprehensive-examples"><a class="header" href="#comprehensive-examples">Comprehensive Examples</a></h2>
<p>This section provides complete examples showing how to use Driftless for common configuration management tasks.</p>
<h3 id="complete-configuration-example"><a class="header" href="#complete-configuration-example">Complete Configuration Example</a></h3>
<p>Here’s a complete example showing a typical web server setup:</p>
<p><strong>YAML Format</strong>:</p>
<pre><code class="language-yaml">vars:
  web_user: www-data
  web_root: /var/www/html
  nginx_config: /etc/nginx/sites-available/default

tasks:
  # Install required packages
  - type: package
    name: nginx
    state: present

  # Create web directory
  - type: file
    path: "{{ web_root }}"
    state: present
    mode: "0755"
    owner: "{{ web_user }}"
    group: "{{ web_user }}"

  # Configure nginx
  - type: file
    path: "{{ nginx_config }}"
    state: present
    content: |
      server {
          listen 80;
          root {{ web_root }};
          index index.html index.htm;

          location / {
              try_files $uri $uri/ =404;
          }
      }
    mode: "0644"
    owner: root
    group: root

  # Create index page
  - type: file
    path: "{{ web_root }}/index.html"
    state: present
    content: |
      &lt;!DOCTYPE html&gt;
      &lt;html&gt;
      &lt;head&gt;&lt;title&gt;Welcome to Driftless&lt;/title&gt;&lt;/head&gt;
      &lt;body&gt;&lt;h1&gt;Hello from Driftless!&lt;/h1&gt;&lt;/body&gt;
      &lt;/html&gt;
    mode: "0644"
    owner: "{{ web_user }}"
    group: "{{ web_user }}"

  # Start and enable nginx service
  - type: service
    name: nginx
    state: started
    enabled: true
</code></pre>
<p><strong>JSON Format</strong>:</p>
<pre><code class="language-json">{
  "vars": {
    "web_user": "www-data",
    "web_root": "/var/www/html",
    "nginx_config": "/etc/nginx/sites-available/default"
  },
  "tasks": [
    {
      "type": "package",
      "name": "nginx",
      "state": "present"
    },
    {
      "type": "file",
      "path": "{{ web_root }}",
      "state": "present",
      "mode": "0755",
      "owner": "{{ web_user }}",
      "group": "{{ web_user }}"
    },
    {
      "type": "file",
      "path": "{{ nginx_config }}",
      "state": "present",
      "content": "server {\n    listen 80;\n    root {{ web_root }};\n    index index.html index.htm;\n\n    location / {\n        try_files $uri $uri/ =404;\n    }\n}",
      "mode": "0644",
      "owner": "root",
      "group": "root"
    },
    {
      "type": "file",
      "path": "{{ web_root }}/index.html",
      "state": "present",
      "content": "&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;Welcome to Driftless&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;&lt;h1&gt;Hello from Driftless!&lt;/h1&gt;&lt;/body&gt;\n&lt;/html&gt;",
      "mode": "0644",
      "owner": "{{ web_user }}",
      "group": "{{ web_user }}"
    },
    {
      "type": "service",
      "name": "nginx",
      "state": "started",
      "enabled": true
    }
  ]
}
</code></pre>
<p><strong>TOML Format</strong>:</p>
<pre><code class="language-toml">[vars]
web_user = "www-data"
web_root = "/var/www/html"
nginx_config = "/etc/nginx/sites-available/default"

[[tasks]]
type = "package"
name = "nginx"
state = "present"

[[tasks]]
type = "file"
path = "{{ web_root }}"
state = "present"
mode = "0755"
owner = "{{ web_user }}"
group = "{{ web_user }}"

[[tasks]]
type = "file"
path = "{{ nginx_config }}"
state = "present"
content = """
server {
    listen 80;
    root {{ web_root }};
    index index.html index.htm;

    location / {
    try_files $uri $uri/ =404;
    }
}
"""
mode = "0644"
owner = "root"
group = "root"

[[tasks]]
type = "file"
path = "{{ web_root }}/index.html"
state = "present"
content = """
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;&lt;title&gt;Welcome to Driftless&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;h1&gt;Hello from Driftless!&lt;/h1&gt;&lt;/body&gt;
&lt;/html&gt;
"""
mode = "0644"
owner = "{{ web_user }}"
group = "{{ web_user }}"

[[tasks]]
type = "service"
name = "nginx"
state = "started"
enabled = true
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../docs/template-examples.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../../docs/facts-reference.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../docs/template-examples.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../../docs/facts-reference.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
